(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[35],{143:function(e,a,t){"use strict";var c=t(9),n=t(0),r=t.n(n),l=t(2);a.a=function(e){var a=e.type,t=e.placeholder,s=e.value,o=e.name,u=e.onChange,i=e.onBlur,m=e.error,d=e.disabled,b=void 0!==d&&d,p=e.icon,v=e.className,f=void 0===v?"":v,h=e.hasGrayBack,g=void 0!==h&&h,E=e.showPass,O=e.maxLength,j=e.ref,k=Object(n.useState)(!1),y=Object(c.a)(k,2),N=y[0],x=y[1],C=m?"has-error":"";f+=" form-control ";var _=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group text-input ".concat(C," ").concat(g?"background-gray":"")},r.a.createElement("input",{type:(E?N?"text":"password":a)||"text",className:f,name:o,value:s,onChange:u,autoComplete:"off",ref:j||_,disabled:b,onBlur:i,maxLength:O}),r.a.createElement("label",{className:"input-placeholder"},t),p?r.a.createElement("span",{className:"input-icon"},p):r.a.createElement(r.a.Fragment,null),E?r.a.createElement("span",{className:"input-icon cursor-pointer",onClick:function(){return x(!N)}},N?l.ab:l.bb):r.a.createElement(r.a.Fragment,null),m?r.a.createElement("p",{className:"assistive-text error-text"},m):r.a.createElement("p",{className:"assistive-text"})))}},144:function(e,a,t){"use strict";var c=t(0),n=t.n(c),r=t(156);a.a=function(e){var a=e.className,t=void 0===a?"":a,l=e.options,s=void 0===l?[]:l,o=e.value,u=e.onChange,i=e.placeholder,m=e.error,d=e.hasGrayBack,b=void 0!==d&&d,p=e.isMulti,v=void 0!==p&&p,f=(e.hideSelectedOptions,e.isClearable),h=void 0===f||f,g=e.disabled,E=e.isLoading,O=e.hidePlaceholder,j=e.defaultValue,k=e.isSearchable,y=void 0!==k&&k,N="input-group select-control-input ".concat(m?"has-error":""," ").concat(b?"background-gray":""," ").concat(o&&o.value?"has-value":""," ").concat(O?"hide-placeholder":""," ").concat(g?"cursor-notAllowed":"");t+=" select-input ";var x=Object(c.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:N,ref:x},n.a.createElement(r.a,{value:o,onChange:u,options:s,className:t,classNamePrefix:"select-input",placeholder:n.a.createElement("div",null,""),onFocus:function(){return x.current.classList.add("select-focused")},onBlur:function(){return x.current.classList.remove("select-focused")},isClearable:h,isMulti:v,removeSelected:!1,defaultValue:j,isDisabled:g,isLoading:E,isSearchable:y}),n.a.createElement("label",{className:"select-placeholder"},i)),m?n.a.createElement("p",{className:"assistive-text error-text"},m):n.a.createElement("p",{className:"assistive-text"}))}},147:function(e,a,t){"use strict";var c=t(0),n=t.n(c),r=t(158);t(157);a.a=function(e){var a=e.message,t=e.type,l=e.callback,s=Object(c.useCallback)((function(e){switch(e){case"success":r.b.success(a,{position:r.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){l&&l()}),1500);break;case"error":r.b.error(a,{position:r.b.POSITION.BOTTOM_RIGHT});break;case"info":r.b.info(a,{position:r.b.POSITION.BOTTOM_RIGHT});break;case"warn":r.b.warn(a,{position:r.b.POSITION.BOTTOM_RIGHT})}}),[l,a]);return Object(c.useEffect)((function(){a&&t&&s(t)}),[a,s,t]),n.a.createElement("div",null,n.a.createElement(r.a,null))}},1511:function(e,a,t){"use strict";t.r(a);var c=t(14),n=t.n(c),r=t(18),l=t(13),s=t(9),o=t(0),u=t.n(o),i=t(412),m=t(411),d=t(147),b=t(22),p={paymentDetails:{payment_mode:"",received_from:"",bank_name:"",cheque_number:"",notes:null}};a.default=function(e){var a,t=Object(o.useState)(Object(l.a)({},p.userDetails)),c=Object(s.a)(t,2),v=(c[0],c[1]),f=Object(o.useState)(Object(l.a)({},p.labDetails)),h=Object(s.a)(f,2),g=(h[0],h[1]),E=Object(o.useState)(null),O=Object(s.a)(E,2),j=O[0],k=O[1],y=Object(o.useState)(Object(l.a)({},p.paymentDetails)),N=Object(s.a)(y,2),x=N[0],C=N[1],_=Object(o.useState)({}),w=Object(s.a)(_,2),S=w[0],B=w[1],P=Object(o.useState)({}),T=Object(s.a)(P,2),D=T[0],I=T[1],L=Object(o.useState)(!1),F=Object(s.a)(L,2),R=F[0],q=F[1],G=Object(o.useState)({show:!1,message:"",type:""}),M=Object(s.a)(G,2),H=M[0],A=M[1],V=Object(o.useState)(!1),J=Object(s.a)(V,2),U=J[0],z=J[1],K=(null===(a=e.history.location)||void 0===a?void 0:a.state)||{},Q=K.lab_id,W=(K.action_status,K.current_package);Object(o.useEffect)((function(){W&&k(Object(l.a)(Object(l.a)({},W),{},{label:W.amount?"\u20b9 ".concat(W.amount):"-",value:W.uuid}))}),[W]);var X=function(){var e=Object(r.a)(n.a.mark((function e(a){var t,c,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I({}),z(!0),A({show:!1,message:"",type:""}),a.preventDefault(),delete(t=Object(l.a)(Object(l.a)({},S),{},{category:"custom"})).custom,e.next=8,Object(b.fetchRequest)({url:"/super_admin/package",method:"POST",isAuth:!0,body:t});case 8:if((c=e.sent)&&z(!1),!c||200!==c.status){e.next=17;break}return e.next=13,c.json();case 13:(r=e.sent).success&&(k({uuid:r.data.uuid}),Y({uuid:r.data.uuid})),e.next=22;break;case 17:return e.next=19,c.json();case 19:s=e.sent,I(Object(l.a)({},s.errors)),422!==c.status&&!Object.keys(s.error?s.error:{}).length&&s.message&&A({show:!0,message:s.message,type:"error"});case 22:return e.abrupt("return");case 23:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(a){I({}),z(!0),A({show:!1,message:"",type:""});var t={package:a.uuid?a.uuid:null===a||void 0===a?void 0:a.uuid,payment_details:x};Object(r.a)(n.a.mark((function a(){var c,r,s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(b.fetchRequest)({url:"/super_admin/labs/".concat(Q,"/renew_package"),method:"POST",body:t,isAuth:!0});case 2:if((c=a.sent)&&z(!1),!c||200!==c.status){a.next=12;break}return a.next=7,c.json();case 7:(r=a.sent).message&&A({show:!0,message:r.message,type:"success"}),setTimeout((function(){return e.history.goBack()}),2500),a.next=17;break;case 12:return a.next=14,c.json();case 14:s=a.sent,I(Object(l.a)({},s.errors)),422!==c.status&&!Object.keys(s.error?s.error:{}).length&&s.message&&A({show:!0,message:s.message,type:"error"});case 17:return a.abrupt("return");case 18:case"end":return a.stop()}}),a)})))()},Z=function(){q(!0),v(Object(l.a)({},p.userDetails)),g(Object(l.a)({},p.labDetails)),k(null),C(Object(l.a)({},p.paymentDetails))};return u.a.createElement("div",{className:"add-path-lab-container"},u.a.createElement(d.a,H),u.a.createElement(m.a,{data:j,setData:k,customPackageData:S,setCustomPackageData:B,error:D,setError:I,cancel:R,handleSavePathLab:S.custom?X:function(){return Y(j)},handleCancel:Z}),j&&j.trial_package?u.a.createElement(u.a.Fragment,null):u.a.createElement(i.a,{data:x,setData:C,handleSavePathLab:S.custom?X:function(){return Y(j)},handleCancel:Z,error:D,btnDisabled:U,btnLoading:U,saveBtnName:"Save"}))}},152:function(e,a,t){"use strict";var c=t(0),n=t.n(c),r=t(2);a.a=function(e){var a=e.name,t=e.label,c=e.value,l=e.checked,s=void 0!==l&&l,o=e.onClick,u=e.blue,i=(e.red,e.className),m=void 0===i?"":i,d=e.disabled,b=u?"blue":"red";return n.a.createElement("div",{className:"d-flex checkbox-input ".concat(m," pure-material-checkbox ").concat(d?"disabled":"")},n.a.createElement("input",{type:"checkbox",name:a,value:c,checked:s,disabled:d,onChange:o}),n.a.createElement("div",{className:"mr-3 checkbox-checked ".concat(b),onClick:function(){d||o()}},r.m),n.a.createElement("label",{dangerouslySetInnerHTML:{__html:t}}))}},184:function(e,a,t){"use strict";var c=t(0),n=t.n(c);a.a=function(e){var a=e.placeholder,t=e.rows,c=void 0===t?2:t,r=e.value,l=(e.name,e.onChange),s=e.error,o=(e.disabled,e.icon),u=e.className,i=void 0===u?"":u,m=e.maxLength,d=e.hasGrayBack,b=s?"has-error":"";return i+=" form-control ".concat(r?"has-value":""," ").concat(d?"background-gray":""),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-group text-area ".concat(b)},n.a.createElement("textarea",{className:i,value:r,rows:c,onChange:l,maxLength:m}),n.a.createElement("label",null,a),o?n.a.createElement("span",{className:"input-icon"},o):n.a.createElement(n.a.Fragment,null)),s?n.a.createElement("p",{className:"assistive-text error-text"},s):n.a.createElement("p",{className:"assistive-text"}))}},197:function(e,a,t){"use strict";var c=t(0),n=t.n(c),r=t(10);a.a=function(e){var a=e.data,t=e.className,c=void 0===t?"":t,l=e.showBtn,s=e.BtnFooter,o=e.showInfoIcon;c="".concat(c," ").concat(a.isCustom?"custom-package":""," ").concat(a.isRed?"red-content":"");var u=""!==a.expiary?("monthly_package"===a.expiary?"for 1 month":"quarterly_package"===a.expiary&&"for 3 months")||"half_yearly_package"===a.expiary&&"for 6 months"||"yearly_package"===a.expiary&&"for 1 year"||a.isCustom&&"for ".concat(a.expiary||"x"," days"):"-";return n.a.createElement("div",{className:"card package-card text-center ".concat(c)},n.a.createElement("div",{className:"card-head"},n.a.createElement("span",{className:"package-status"},a.status),n.a.createElement("p",{className:"red-heading package-name"},a.name?a.name:"-"),n.a.createElement("p",{className:"package-expiary"},u||"-"),n.a.createElement("div",{className:"package-patients d-flex justify-content-center"},n.a.createElement("p",null,a.patients?a.patients:"0"," patients"),o&&n.a.createElement("p",{className:"i-btn-icon ml-2"}))),n.a.createElement("div",{className:"card-body text-center"},n.a.createElement("p",null,a.details?a.details:"---")),s?n.a.createElement(s,null):l&&n.a.createElement("div",{className:"card-foot"},a.isCustom?n.a.createElement(r.ContainedButton,{darkBlue:!0,link:!0,to:"/contact"},"Contact Us"):n.a.createElement(r.ContainedButton,{link:!0,to:"/register",black:!0},"Get Started")))}},411:function(e,a,t){"use strict";var c=t(14),n=t.n(c),r=t(6),l=t(18),s=t(13),o=t(9),u=t(0),i=t.n(u),m=t(10),d=t(143),b=t(144),p=t(197),v=t(184),f=t(22),h=t(152);a.a=function(e){var a=e.data,t=e.setData,c=e.handleSavePathLab,g=e.handleCancel,E=e.setCustomPackageData,O=e.error,j=e.setError,k=e.cancel,y=Object(u.useState)([]),N=Object(o.a)(y,2),x=N[0],C=N[1],_=Object(u.useState)({}),w=Object(o.a)(_,2),S=w[0],B=w[1],P=Object(u.useState)({amount:"",description:"",label:"",name:"",type:"",validity:"",credits:"",renewable:!1,custom:!1}),T=Object(o.a)(P,2),D=T[0],I=T[1];Object(u.useEffect)((function(){k&&(B({}),I({}))}),[k]),Object(u.useEffect)((function(){E(Object(s.a)({},D))}),[D]),Object(u.useEffect)((function(){x.length||Object(l.a)(n.a.mark((function e(){var a,t,c,l,o,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.fetchRequest)({url:"/super_admin/package",method:"GET",isAuth:!0});case 2:if(!(a=e.sent)||200!==a.status){e.next=15;break}return e.next=6,a.json();case 6:return t=e.sent,c=t.data,l=Object(r.a)(c).filter((function(e){return e.active})).reduce((function(e,a){var t=a.type,c=a.category,n=a.amount,l=a.uuid;return e[t]&&"default"===c?e[t]=[].concat(Object(r.a)(e[t]),[Object(s.a)({label:a.trial_package?"Free trial":n?"\u20b9 ".concat(n):"-",value:l},a)]):e[c]&&"custom"===c?e[c]=[].concat(Object(r.a)(e[c]),[Object(s.a)({label:a.trial_package?"Free trial":n?"\u20b9 ".concat(n):"-",value:l},a)]):e[t||c]=[Object(s.a)({label:a.trial_package?"Free trial":n?"\u20b9 ".concat(n):"-",value:l},a)],e}),[]),o=Object.keys(l),u=[{key:"monthly_package"},{key:"quarterly_package"},{key:"half_yearly_package"},{key:"yearly_package"}],o.forEach((function(e){var a=u.findIndex((function(a){return e===a.key}));a>=0&&(u[a]={label:e.split("_").join(" ").replace("package","pack"),options:l[e]})})),u.push({label:i.a.createElement("div",null,"+ Custom Pack"),value:"custom"}),C(u),e.abrupt("return",c);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e)})))()}),[x.length]),Object(u.useEffect)((function(){S.uuid&&t(S.uuid)}),[]),Object(u.useEffect)((function(){(null===a||void 0===a?void 0:a.uuid)&&"default"==(null===a||void 0===a?void 0:a.category)&&B(a)}),[a]);var L=function(e,a){var t=Object(s.a)({},D);t[a]=e,I(Object(s.a)({},t))},F=D.amount,R=D.description,q=D.label,G=D.type,M=D.validity,H=D.credits,A=D.custom,V=D.renewable;return i.a.createElement("div",{className:"form-content"},i.a.createElement("div",{className:"paper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-md-5"},i.a.createElement("label",{className:"paper-label"},"Package details"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-group mb-3 col-12"},i.a.createElement(b.a,{options:x.map((function(e){return Object(s.a)(Object(s.a)({label:e.description,value:e.uuid},e),{},{subMenu:e.services&&e.services.length&&e.services.map((function(e){return Object(s.a)({label:e.name,value:e.uuid},e)}))})})),onChange:function(e){return function(e){j({}),"custom"===e.value?(I(Object(s.a)(Object(s.a)({},D),{},{custom:!0,name:"Custom"})),B({}),t({})):(B(e)||I(Object(s.a)(Object(s.a)({},D),{},{custom:!1})),t(e))}(e)},value:A?{label:"Custom package",value:"custom"}:S,placeholder:"Package Type",error:O&&O.package}))),A?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-group mb-3 col-8 col-md-12"},i.a.createElement(d.a,{value:M||"",onChange:function(e){return L(e.target.value,"validity")},error:O&&O.validity,placeholder:"Validity"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-group mb-3 col-8 col-md-12"},i.a.createElement(d.a,{value:H||"",onChange:function(e){return L(e.target.value,"credits")},error:O&&O.credits,placeholder:"Credits"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-group mb-3 col-8 col-md-12"},i.a.createElement(d.a,{value:F||"",type:"number",onChange:function(e){return L(e.target.value,"amount")},error:O&&O.amount,placeholder:"Price(Rs)"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-group mb-3 col-12"},i.a.createElement(v.a,{value:R||"",maxLength:60,onChange:function(e){return L(e.target.value,"description")},error:O&&O.description,placeholder:"Description"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"form-group mb-3 col-12"},i.a.createElement(h.a,{name:"renewable",label:"Renewable Package",checked:V,value:V,blue:!0,onClick:function(){return L(!V,"renewable")}})))):i.a.createElement(i.a.Fragment,null)),i.a.createElement("div",{className:"col-sm-12 col-md-7"},i.a.createElement("div",{className:"w-75 mx-auto pt-3 px-3"},i.a.createElement(p.a,{data:{name:S.trial_package?"Free trial":A?"Custom":S.amount?"\u20b9 ".concat(S.amount):"-",value:S.label||q,expiary:S.type||M,patients:S.credits||H,details:S.description||R,isRed:S.trial_package,isCustom:A},className:"free"===(S.type?S.type:G)?"active":"",showBtn:!1})))),S.trial_package&&i.a.createElement("div",{className:"row my-4"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(m.OutlinedButton,{red:!0,className:"mr-2",onClick:g},"Cancel"),i.a.createElement(m.ContainedButton,{lightBlue:!0,color:"primary",withIcon:!0,onClick:c},"Register Lab")))))}},412:function(e,a,t){"use strict";var c=t(13),n=t(9),r=t(0),l=t.n(r),s=t(144),o=t(184),u=t(10),i=t(143),m=[{value:"cash",label:"Cash"},{value:"cheque",label:"Cheque"},{value:"payment_gateway",label:"Payment Gateway"}];a.a=function(e){var a=e.data,t=e.setData,d=e.handleSavePathLab,b=e.error,p=e.handleCancel,v=e.btnDisabled,f=e.btnLoading,h=e.saveBtnName,g=Object(r.useState)({value:"cash",label:"Cash"}),E=Object(n.a)(g,2),O=E[0],j=E[1],k=Object(r.useState)({}),y=Object(n.a)(k,2),N=y[0],x=y[1];Object(r.useEffect)((function(){x(Object(c.a)({},a))}),[a]),Object(r.useEffect)((function(){t(Object(c.a)(Object(c.a)({},a),{},{payment_mode:O.value}))}),[O]);var C=function(e,a){var n=Object(c.a)({},N);n[a]=e,x(Object(c.a)({},n)),t(Object(c.a)({},n))},_=N.received_from,w=N.bank_name,S=N.cheque_number,B=N.notes;return l.a.createElement("div",{className:"form-content"},l.a.createElement("div",{className:"paper"},l.a.createElement("label",{className:"paper-label"},"Payment Details"),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement(s.a,{placeholder:"Payment Type",options:m,value:O,onChange:function(e){return j(e)}}))),("cash"===O.value||"cheque"===O.value)&&l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement(i.a,{placeholder:"Received From*",value:_||"",onChange:function(e){return C(e.target.value,"received_from")},error:b&&b["payment_details.received_from"]}))),"cheque"===O.value&&l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement(i.a,{placeholder:"Bank Name*",value:w||"",onChange:function(e){return C(e.target.value,"bank_name")},error:b&&b["payment_details.bank_name"]})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(i.a,{placeholder:"Cheque No.*",value:S||"",onChange:function(e){return C(e.target.value,"cheque_number")},error:b&&b["payment_details.cheque_number"]}))),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-12 col-12"},l.a.createElement(o.a,{placeholder:"Note",value:B||"",onChange:function(e){return C(e.target.value,"notes")},error:b&&b["payment_details.notes"]}))),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(u.OutlinedButton,{red:!0,className:"mr-2",onClick:p,disabled:v},"Cancel"),l.a.createElement(u.ContainedButton,{lightBlue:!0,color:"primary",withIcon:!0,onClick:d,disabled:v,loading:f},h||"Register Lab")))))}}}]);
//# sourceMappingURL=35.725eecea.chunk.js.map
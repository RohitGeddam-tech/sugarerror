(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[14],{143:function(e,t,a){"use strict";var n=a(9),r=a(0),l=a.n(r),c=a(2);t.a=function(e){var t=e.type,a=e.placeholder,s=e.value,o=e.name,u=e.onChange,i=e.onBlur,m=e.error,d=e.disabled,b=void 0!==d&&d,p=e.icon,v=e.className,f=void 0===v?"":v,g=e.hasGrayBack,h=void 0!==g&&g,E=e.showPass,O=e.maxLength,j=e.ref,y=Object(r.useState)(!1),N=Object(n.a)(y,2),x=N[0],_=N[1],k=m?"has-error":"";f+=" form-control ";var C=Object(r.useRef)(null);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"input-group text-input ".concat(k," ").concat(h?"background-gray":"")},l.a.createElement("input",{type:(E?x?"text":"password":t)||"text",className:f,name:o,value:s,onChange:u,autoComplete:"off",ref:j||C,disabled:b,onBlur:i,maxLength:O}),l.a.createElement("label",{className:"input-placeholder"},a),p?l.a.createElement("span",{className:"input-icon"},p):l.a.createElement(l.a.Fragment,null),E?l.a.createElement("span",{className:"input-icon cursor-pointer",onClick:function(){return _(!x)}},x?c.ab:c.bb):l.a.createElement(l.a.Fragment,null),m?l.a.createElement("p",{className:"assistive-text error-text"},m):l.a.createElement("p",{className:"assistive-text"})))}},144:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(156);t.a=function(e){var t=e.className,a=void 0===t?"":t,c=e.options,s=void 0===c?[]:c,o=e.value,u=e.onChange,i=e.placeholder,m=e.error,d=e.hasGrayBack,b=void 0!==d&&d,p=e.isMulti,v=void 0!==p&&p,f=(e.hideSelectedOptions,e.isClearable),g=void 0===f||f,h=e.disabled,E=e.isLoading,O=e.hidePlaceholder,j=e.defaultValue,y=e.isSearchable,N=void 0!==y&&y,x="input-group select-control-input ".concat(m?"has-error":""," ").concat(b?"background-gray":""," ").concat(o&&o.value?"has-value":""," ").concat(O?"hide-placeholder":""," ").concat(h?"cursor-notAllowed":"");a+=" select-input ";var _=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:x,ref:_},r.a.createElement(l.a,{value:o,onChange:u,options:s,className:a,classNamePrefix:"select-input",placeholder:r.a.createElement("div",null,""),onFocus:function(){return _.current.classList.add("select-focused")},onBlur:function(){return _.current.classList.remove("select-focused")},isClearable:g,isMulti:v,removeSelected:!1,defaultValue:j,isDisabled:h,isLoading:E,isSearchable:N}),r.a.createElement("label",{className:"select-placeholder"},i)),m?r.a.createElement("p",{className:"assistive-text error-text"},m):r.a.createElement("p",{className:"assistive-text"}))}},147:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(158);a(157);t.a=function(e){var t=e.message,a=e.type,c=e.callback,s=Object(n.useCallback)((function(e){switch(e){case"success":l.b.success(t,{position:l.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){c&&c()}),1500);break;case"error":l.b.error(t,{position:l.b.POSITION.BOTTOM_RIGHT});break;case"info":l.b.info(t,{position:l.b.POSITION.BOTTOM_RIGHT});break;case"warn":l.b.warn(t,{position:l.b.POSITION.BOTTOM_RIGHT})}}),[c,t]);return Object(n.useEffect)((function(){t&&a&&s(a)}),[t,s,a]),r.a.createElement("div",null,r.a.createElement(l.a,null))}},152:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(2);t.a=function(e){var t=e.name,a=e.label,n=e.value,c=e.checked,s=void 0!==c&&c,o=e.onClick,u=e.blue,i=(e.red,e.className),m=void 0===i?"":i,d=e.disabled,b=u?"blue":"red";return r.a.createElement("div",{className:"d-flex checkbox-input ".concat(m," pure-material-checkbox ").concat(d?"disabled":"")},r.a.createElement("input",{type:"checkbox",name:t,value:n,checked:s,disabled:d,onChange:o}),r.a.createElement("div",{className:"mr-3 checkbox-checked ".concat(b),onClick:function(){d||o()}},l.m),r.a.createElement("label",{dangerouslySetInnerHTML:{__html:a}}))}},1534:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),l=a(13),c=a(18),s=a(9),o=a(0),u=a.n(o),i=a(4),m=a(17),d=a(22),b=a(207),p=a(223),v=a(6),f=a(10),g=a(143),h=a(147),E=a(198),O=a(19),j=function(e){var t,a,n=localStorage.getItem("loginAs"),b=Object(o.useContext)(m.a).profile,p=Object(i.i)().testId,j=Object(o.useState)([]),y=Object(s.a)(j,2),N=y[0],x=y[1],_=Object(o.useState)([]),k=Object(s.a)(_,2),C=k[0],w=k[1],T=Object(o.useState)(""),S=Object(s.a)(T,2),R=S[0],D=S[1],A=Object(o.useState)({}),B=Object(s.a)(A,2),P=B[0],I=B[1],q=Object(o.useState)({show:!1,message:"",type:""}),F=Object(s.a)(q,2),M=F[0],G=F[1],L=Object(o.useState)(!1),V=Object(s.a)(L,2),H=V[0],U=V[1],J="/super_admin/";"lab-admin"==n?J="/lab_group/".concat(null===b||void 0===b||null===(t=b.selectedRole)||void 0===t?void 0:t.uuid,"/"):"lab"==n&&(J="/lab/".concat(null===b||void 0===b||null===(a=b.selectedRole)||void 0===a?void 0:a.uuid,"/")),Object(o.useEffect)((function(){if(e.obj&&e.obj.testData){var t;D(e.obj.testData.name);var a=(null===(t=e.obj.testData.sub_tests)||void 0===t?void 0:t.length)?e.obj.testData.sub_tests.map((function(e){return{label:e.name,value:e.uuid}})):[];w(a)}}),[e]);var Q=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(J,"tests").concat(t?"?search=".concat(t):""),method:"GET",isAuth:!0});case 2:if(!(a=e.sent)||200!==a.status){e.next=11;break}return e.next=6,a.json();case 6:return n=e.sent,l=n.data,c=l&&l.length&&Object(v.a)(l).filter((function(e){return"test"===e.type})).map((function(e){return{label:e.name,value:e.uuid}})),x(c),e.abrupt("return",c);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var t=Object(c.a)(r.a.mark((function t(){var a,n,c,s,o,u,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I({}),U(!0),G({show:!1,message:"",type:""}),a=Object(O.h)({name:R,test_ids:null===C||void 0===C?void 0:C.length}),I(Object(l.a)({},a)),Object.keys(a).length){t.next=28;break}if(n={type:"group",name:R,test_ids:(null===C||void 0===C?void 0:C.length)?Object(v.a)(C).map((function(e){return e.value})):[]},c="".concat(J,"tests"),s="POST",p&&(c="".concat(c,"/").concat(p),s="PUT"),!c){t.next=26;break}return t.next=12,Object(d.fetchRequest)({url:c,method:s,isAuth:!0,body:n});case 12:if(o=t.sent,U(!1),!o||200!==o.status){t.next=21;break}return t.next=17,o.json();case 17:(u=t.sent).success&&(u.message&&G({show:!0,message:u.message,type:"success"}),setTimeout((function(){return e.history.goBack()}),2e3)),t.next=26;break;case 21:return t.next=23,o.json();case 23:i=t.sent,I(Object(l.a)({},i.errors)),422!==o.status&&!Object.keys(i.error?i.error:{}).length&&i.message&&G({show:!0,message:i.message,type:"error"});case 26:t.next=29;break;case 28:U(!1);case 29:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return u.a.createElement("div",{className:"form-content"},u.a.createElement(h.a,M),u.a.createElement("div",{className:"paper"},u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-5 col-12"},u.a.createElement(g.a,{placeholder:"Group Name*",value:R||"",onChange:function(e){return D(e.target.value)},error:P&&P.name}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-12 col-12"},u.a.createElement("label",{className:"gray-label mb-1"},"Select Tests*"),u.a.createElement(E.a,{isMulti:!0,options:N,FilterData:Q,noOptionsMessage:"Search & Select Tests",value:C,onChange:function(e){return e&&e.length?w(Object(v.a)(e)):w()},error:P&&P.test_ids})))),u.a.createElement("div",{className:"row mb-4 text-center"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement(f.OutlinedButton,{red:!0,className:"mr-2",onClick:function(){if(p){var t=["lab-admin","lab"].includes(n)?"/".concat(n,"/setting/view-test/").concat(p):"/".concat(n,"/view-test/").concat(p);e.history.push(t)}else D(""),w([])}},"Cancel"),u.a.createElement(f.OutlinedButton,{blue:!0,onClick:$,disabled:H,loading:H},"Save"))))},y=a(144),N={name:"",gender:null,cost:"",tests:[]},x=function(e){var t,a,n=localStorage.getItem("loginAs"),p=Object(o.useContext)(m.a).profile,j=Object(i.i)().testId,x=Object(o.useState)(Object(l.a)({},N)),_=Object(s.a)(x,2),k=_[0],C=_[1],w=Object(o.useState)({}),T=Object(s.a)(w,2),S=T[0],R=T[1],D=Object(o.useState)({show:!1,message:"",type:""}),A=Object(s.a)(D,2),B=A[0],P=A[1],I=Object(o.useState)(!1),q=Object(s.a)(I,2),F=q[0],M=q[1],G=Object(o.useState)([]),L=Object(s.a)(G,2),V=L[0],H=L[1],U=Object(o.useState)([]),J=Object(s.a)(U,2),Q=J[0],$=J[1],K=k.name,W=k.gender,z=k.cost,X="";"lab-admin"==n?X="/lab_group/".concat(null===p||void 0===p||null===(t=p.selectedRole)||void 0===t?void 0:t.uuid,"/"):"lab"==n&&(X="/lab/".concat(null===p||void 0===p||null===(a=p.selectedRole)||void 0===a?void 0:a.uuid,"/")),Object(o.useEffect)((function(){if(e.obj&&e.obj.testData){var t;C(Object(l.a)({},e.obj.testData));var a=(null===(t=e.obj.testData.sub_tests)||void 0===t?void 0:t.length)?e.obj.testData.sub_tests.map((function(e){return{label:e.name,value:e.uuid}})):[];$(a)}}),[e]),Object(o.useEffect)((function(){var e;(null===k||void 0===k||null===(e=k.gender)||void 0===e?void 0:e.value)&&Y()}),[k.gender]);var Y=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(X,"tests").concat(t?"?search=".concat(t):""),method:"GET",isAuth:!0});case 2:if(!(a=e.sent)||200!==a.status){e.next=11;break}return e.next=6,a.json();case 6:return n=e.sent,l=n.data,c=l&&l.length&&Object(v.a)(l).filter((function(e){return"test"===e.type||"panel"===e.type})).map((function(e){return{label:e.name,value:e.uuid}})),H(Object(v.a)(c)),e.abrupt("return",c);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(Q);var Z=function(e,t){var a=Object(l.a)({},k);"gender"===t&&e!==k.gender&&(a.tests=[]),a[t]=e,C(Object(l.a)({},a))},ee=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,s,o,u,i,m;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(M(!0),R({}),P({show:!1,message:"",type:""}),a.preventDefault(),n=Object(O.h)({name:K,gender:W&&W.value,tests:(null===Q||void 0===Q?void 0:Q.length)?Object(v.a)(Q).map((function(e){return e.value})):null}),R(Object(l.a)({},n)),Object.keys(n).length){t.next=30;break}if(c={type:"package",name:k.name,cost:k.cost,gender:k.gender&&k.gender.value,tests:Object(v.a)(Q).map((function(e){return e.value}))},s="".concat(X,"tests"),o="POST",j&&(s="".concat(s,"/").concat(j),o="PUT"),!s){t.next=28;break}return t.next=13,Object(d.fetchRequest)({url:s,method:o,isAuth:!0,body:c});case 13:if((u=t.sent)&&M(!1),!u||200!==u.status){t.next=22;break}return t.next=18,u.json();case 18:(i=t.sent).success&&(i.message&&P({show:!0,message:i.message,type:"success"}),setTimeout((function(){return e.history.goBack()}),2e3)),t.next=27;break;case 22:return t.next=24,u.json();case 24:m=t.sent,R(Object(l.a)({},m.errors)),422!==u.status&&!Object.keys(m.error?m.error:{}).length&&m.message&&P({show:!0,message:m.message,type:"error"});case 27:return t.abrupt("return");case 28:t.next=31;break;case 30:M(!1);case 31:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u.a.createElement("div",{className:"form-content"},u.a.createElement(h.a,B),u.a.createElement("div",{className:"paper"},u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-5 col-12"},u.a.createElement(g.a,{placeholder:"Package Name*",value:K||"",onChange:function(e){return Z(e.target.value,"name")},error:S&&S.name})),u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(y.a,{placeholder:"Gender*",options:b.b,value:W,onChange:function(e){return Z(e,"gender")},error:S&&S.gender})),u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(g.a,{placeholder:"Cost (in \u20b9)",value:z||"",onChange:function(e){return Z(e.target.value,"cost")},error:S&&S.cost}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-12 col-12"},u.a.createElement("label",{className:"gray-label mb-1"},"Select Tests*"),u.a.createElement(E.a,{isMulti:!0,options:V,FilterData:Y,noOptionsMessage:"Search & Select Tests",value:Q,onChange:function(e){return e&&e.length?$(Object(v.a)(e)):$()},error:S&&S.tests})))),u.a.createElement("div",{className:"row mb-4 text-center"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement(f.OutlinedButton,{red:!0,className:"mr-2",onClick:function(){if(j){var t=["lab-admin","lab"].includes(n)?"/".concat(n,"/setting/view-test/").concat(j):"/".concat(n,"/view-test/").concat(j);e.history.push(t)}else C(Object(l.a)({},N)),$([])},disabled:F},"Cancel"),u.a.createElement(f.OutlinedButton,{blue:!0,onClick:ee,disabled:F,btnLoading:F},"Save"))))},_=a(305),k=(a(184),{type:"test",test_category:null,name:"",short_name:"",gender:null,cost:""}),C=function(e){var t,a,n=localStorage.getItem("loginAs"),p=Object(o.useContext)(m.a).profile,j=Object(o.useState)([]),N=Object(s.a)(j,2),x=N[0],C=N[1],w=Object(i.i)().testId,T=Object(o.useState)({}),S=Object(s.a)(T,2),R=S[0],D=S[1],A=Object(o.useState)(Object(l.a)({},k)),B=Object(s.a)(A,2),P=B[0],I=B[1],q=Object(o.useState)([]),F=Object(s.a)(q,2),M=F[0],G=F[1],L=Object(o.useState)([]),V=Object(s.a)(L,2),H=V[0],U=V[1],J=P.test_category,Q=P.name,$=P.short_name,K=P.gender,W=P.cost,z=Object(o.useState)({show:!1,message:"",type:""}),X=Object(s.a)(z,2),Y=X[0],Z=X[1],ee=Object(o.useState)(!1),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)(""),le=Object(s.a)(re,2),ce=le[0],se=le[1],oe=Object(o.useState)(""),ue=Object(s.a)(oe,2),ie=ue[0],me=ue[1],de=Object(o.useState)(""),be=Object(s.a)(de,2),pe=be[0],ve=be[1],fe=Object(o.useState)(""),ge=Object(s.a)(fe,2),he=ge[0],Ee=ge[1],Oe=Object(o.useState)(""),je=Object(s.a)(Oe,2),ye=je[0],Ne=je[1],xe=Object(o.useState)(!1),_e=Object(s.a)(xe,2),ke=_e[0],Ce=_e[1],we="/super_admin/";"lab-admin"==n?we="/lab_group/".concat(null===p||void 0===p||null===(t=p.selectedRole)||void 0===t?void 0:t.uuid,"/"):"lab"==n&&(we="/lab/".concat(null===p||void 0===p||null===(a=p.selectedRole)||void 0===a?void 0:a.uuid,"/")),Object(o.useEffect)((function(){Te(),setTimeout((function(){Ce(!0)}),1e3)}),[]),Object(o.useEffect)((function(){if(e.obj&&e.obj.testData){var t;I(Object(l.a)({},e.obj.testData));var a=(null===(t=e.obj.testData.sub_tests)||void 0===t?void 0:t.length)?e.obj.testData.sub_tests.map((function(e){return{label:e.name,value:e.uuid}})):[];U(a),se(e.obj.testData.technique),me(e.obj.testData.interpretation),ve(e.obj.testData.method),Ee(e.obj.testData.remark),Ne(e.obj.testData.note)}}),[e]);var Te=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(we,"test_categories"),method:"GET",isAuth:!0});case 2:if(!(t=e.sent)||200!==t.status){e.next=11;break}return e.next=6,t.json();case 6:return a=e.sent,n=a.data,l=n&&n.length&&Object(v.a)(n).map((function(e){return{label:e.name,value:e.uuid}})),C(l),e.abrupt("return",n);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(we,"tests").concat(t?"?search=".concat(t):""),method:"GET",isAuth:!0});case 2:if(!(a=e.sent)||200!==a.status){e.next=11;break}return e.next=6,a.json();case 6:return n=e.sent,l=n.data,c=l&&l.length&&Object(v.a)(l).filter((function(e){return"test"===e.type||"group"===e.type})).map((function(e){return{label:e.name,value:e.uuid}})),G(Object(v.a)(c)),e.abrupt("return",c);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e,t){var a=Object(l.a)({},P);a[t]=e,I(Object(l.a)({},a))},De=function(){var t=Object(c.a)(r.a.mark((function t(){var a,n,c,s,o,u,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D({}),ne(!0),Z({show:!1,message:"",type:""}),a=Object(O.h)({name:Q,test_categories_id:J&&J.value,gender:K&&K.value,test_ids:null===H||void 0===H?void 0:H.length}),D(Object(l.a)({},a)),Object.keys(a).length){t.next=28;break}if(n={type:"panel",test_categories_id:J&&J.value,name:Q,short_name:$,gender:K&&K.value,cost:W,test_ids:Object(v.a)(H).map((function(e){return e.value})),technique:ce,interpretation:ie,method:pe,remark:he,note:ye},c="".concat(we,"tests"),s="POST",w&&(c="".concat(c,"/").concat(w),s="PUT"),!c){t.next=26;break}return t.next=12,Object(d.fetchRequest)({url:c,method:s,isAuth:!0,body:n});case 12:if(o=t.sent,ne(!1),!o||200!==o.status){t.next=21;break}return t.next=17,o.json();case 17:(u=t.sent).success&&(u.message&&Z({show:!0,message:u.message,type:"success"}),setTimeout((function(){return e.history.goBack()}),2e3)),t.next=26;break;case 21:return t.next=23,o.json();case 23:i=t.sent,D(Object(l.a)({},i.errors)),422!==o.status&&!Object.keys(i.error?i.error:{}).length&&i.message&&Z({show:!0,message:i.message,type:"error"});case 26:t.next=29;break;case 28:ne(!1);case 29:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return u.a.createElement("div",{className:"form-content"},u.a.createElement(h.a,Y),u.a.createElement("div",{className:"paper"},u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-5 col-12"},u.a.createElement(y.a,{options:x,value:J,placeholder:"Category*",onChange:function(e){return Re(e,"test_category")},error:R&&R.test_categories_id}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-5 col-12"},u.a.createElement(g.a,{placeholder:"Panel Name*",value:Q||"",onChange:function(e){return Re(e.target.value,"name")},error:R&&R.name})),u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(g.a,{placeholder:"Short Name",value:$||"",onChange:function(e){return Re(e.target.value,"short_name")},error:R&&R.short_name})),u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(y.a,{options:b.b,value:K,placeholder:"Gender*",onChange:function(e){return Re(e,"gender")},error:R&&R.gender}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(g.a,{placeholder:"Cost",value:W||"",onChange:function(e){return Re(e.target.value,"cost")},error:R&&R.cost}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-12 col-12"},u.a.createElement("label",{className:"gray-label mb-1"},"Select Tests or Groups*"),ke?u.a.createElement(E.a,{isMulti:!0,options:M,FilterData:Se,noOptionsMessage:"Search & Select Tests",value:H,onChange:function(e){return e&&e.length?U(Object(v.a)(e)):U()},error:R&&R.test_ids}):u.a.createElement(y.a,{isLoading:!0}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Technique :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.b,{value:ce||"",onChange:function(e){return se(e)},error:R&&R.technique}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Interpretation :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.b,{value:ie||"",onChange:function(e){return me(e)},error:R&&R.interpretation}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Method :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.b,{value:pe||"",onChange:function(e){return ve(e)},error:R&&R.method}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Remark :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.b,{value:he||"",onChange:function(e){return Ee(e)},error:R&&R.remark}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Note :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.b,{value:ye||"",onChange:function(e){return Ne(e)},error:R&&R.note})))),u.a.createElement("div",{className:"row mb-4 text-center"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement(f.OutlinedButton,{red:!0,className:"mr-2",onClick:function(){if(w){var t=["lab-admin","lab"].includes(n)?"/".concat(n,"/setting/view-test/").concat(w):"/".concat(n,"/view-test/").concat(w);e.history.push(t)}else I(Object(l.a)({},k)),U([]),se(""),me(""),ve(""),Ee(""),Ne("")}},"Cancel"),u.a.createElement(f.OutlinedButton,{blue:!0,onClick:De,disabled:ae,loading:ae},"Save"))))},w=a(152),T=a(819),S=[188,13],R=function(e){var t=e.tags,a=e.suggestions,n=e.handleDelete,r=e.handleAddition,l=e.error;return u.a.createElement("div",null,u.a.createElement(T.WithContext,{tags:t,suggestions:a,handleDelete:n,handleAddition:r,allowUnique:!1,delimiters:S,placeholder:"",autofocus:!1}),l?u.a.createElement("p",{className:"assistive-text error-text"},l):u.a.createElement("p",{className:"assistive-text"}))},D=function(e){var t,a,n=e.dependentTests,i=e.setDependentTests,b=e.formula,p=e.setFormula,f=e.error,g=e.reportTypeId,h=Object(o.useState)([]),O=Object(s.a)(h,2),j=O[0],y=O[1],N=localStorage.getItem("loginAs"),x=Object(o.useContext)(m.a).profile,_="/super_admin/";"lab-admin"==N?_="/lab_group/".concat(null===x||void 0===x||null===(t=x.selectedRole)||void 0===t?void 0:t.uuid,"/"):"lab"==N&&(_="/lab/".concat(null===x||void 0===x||null===(a=x.selectedRole)||void 0===a?void 0:a.uuid,"/"));var k=Object(o.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.makeRequest)({url:"".concat(_,"tests?").concat(t?"search=".concat(t,"&"):"").concat(g?"report_type=".concat(g):""),method:"GET",isAuth:!0});case 2:if(a=e.sent,n=a.data,200!==a.status||!n){e.next=9;break}return l=n.data&&n.data.length&&Object(v.a)(n.data).filter((function(e){return"test"===e.type})).map((function(e){return{label:e.name,value:e.uuid,text:e.name,id:e.name,type:"test"}})),y(l),e.abrupt("return",l);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g]);return u.a.createElement("div",{className:"paper"},u.a.createElement("label",{className:"paper-label semi-bold mb-3"},"Formula"),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-12"},u.a.createElement("label",{className:"gray-label"},"Search & Select Dependent Tests"),u.a.createElement(E.a,{isMulti:!0,options:j,noOptionsMessage:"Search & Select Tests",FilterData:k,value:n,onChange:function(e){return e&&e.length?i(Object(v.a)(e)):i()},error:f&&f["formula.test_dependent_on"]}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-12"},u.a.createElement("label",{className:"gray-label"},"Formula : ")," ",u.a.createElement("br",null),u.a.createElement(R,{tags:b,suggestions:n,handleDelete:function(e){b.splice(e,1),p(b)},handleAddition:function(e){p([].concat(Object(v.a)(b),[Object(l.a)({},e)]))},error:f&&f.formattedFormulaError}))))},A=a(39),B=a(2),P=function(e){var t=e.testValidation,a=e.setTestValidation,n=e.defaultTestValidation,r=e.errors,c=function(e,n,r){var l=Object(v.a)(t);l[r][n]=e,a(Object(v.a)(l))};return u.a.createElement("div",{className:"paper test-range-form"},u.a.createElement("label",{className:"paper-label semi-bold mb-3"},"Report Type - Reference Range"),u.a.createElement("table",{className:"custom-table report-type-table mb-3"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Gender"),u.a.createElement("th",null,"Min. Age (in days)"),u.a.createElement("th",null,"Max. Age (in days)"),u.a.createElement("th",null,"Lower Value"),u.a.createElement("th",null,"Upper Value"),u.a.createElement("th",null,"Text"),u.a.createElement("th",null))),u.a.createElement("tbody",null,t&&t.length&&t.map((function(e,n){return u.a.createElement("tr",{key:n},u.a.createElement("td",null,u.a.createElement(y.a,{options:b.b,value:e.gender&&"string"===typeof e.gender?{label:e.gender,value:e.gender}:e.gender||b.b[0],onChange:function(e){return c(e,"gender",n)},error:r&&r["test_validation.".concat(n,".gender")]})),u.a.createElement("td",null,u.a.createElement(g.a,{type:"number",value:e.age_from||"",onChange:function(e){return c(e.target.value,"age_from",n)},error:r&&r["test_validation.".concat(n,".age_from")]})),u.a.createElement("td",null,u.a.createElement(g.a,{type:"number",value:e.age_to||"",onChange:function(e){return c(e.target.value,"age_to",n)},error:r&&r["test_validation.".concat(n,".age_to")]})),u.a.createElement("td",null,u.a.createElement(g.a,{type:"number",value:e.range_from||"",onChange:function(e){return c(e.target.value,"range_from",n)},error:r&&r["test_validation.".concat(n,".range_from")]})),u.a.createElement("td",null,u.a.createElement(g.a,{type:"number",value:e.range_to||"",onChange:function(e){return c(e.target.value,"range_to",n)},error:r&&r["test_validation.".concat(n,".range_to")]})),u.a.createElement("td",null,u.a.createElement(g.a,{value:e.text||"",onChange:function(e){return c(e.target.value,"text",n)},error:r&&r["test_validation.".concat(n,".text")]})),u.a.createElement("td",null,t.length>1?u.a.createElement(f.TextButton,{className:"row-remove-btn",onClick:function(){return function(e){var n=Object(v.a)(t);n.splice(e,1),a(Object(v.a)(n))}(n)}},B.r):""))})))),u.a.createElement(f.TextButton,{blue:!0,withIcon:!0,onClick:function(){a([].concat(Object(v.a)(t),[Object(l.a)({},n)]))}},u.a.createElement("div",{className:"d-flex"},u.a.createElement("span",{className:"add-circle-outline  mr-2"},B.f),u.a.createElement("p",null,"ADD MORE"))))},I=function(e){var t=e.defaultPossibleTestResult,a=e.possibleTestResult,n=e.setPossibleTestResult,r=e.errors,c=function(e,t,r){var c=Object(v.a)(a);c[r]=Object(l.a)(Object(l.a)({},c[r]),{},Object(A.a)({},t,e)),n(Object(v.a)(c))};return u.a.createElement("div",{className:"paper possible-test-result-form"},u.a.createElement("label",{className:"paper-label semi-bold mb-3"},"Report Type - Possible Test Results"),u.a.createElement("table",{className:"custom-table report-type-table mb-3"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Possible Test Results"),u.a.createElement("th",null),u.a.createElement("th",null))),u.a.createElement("tbody",null,a&&a.length&&a.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,u.a.createElement(g.a,{value:e.result||"",onChange:function(e){return c(e.target.value,"result",t)},error:r&&r["test_validation.".concat(t,".age_from")]})),u.a.createElement("td",null,u.a.createElement("div",{className:"d-flex justify-content-center"},u.a.createElement(p.a,{className:"mr-4",label:"Normal",checked:!e.abnormal,onClick:function(){return c(!1,"abnormal",t)}}),u.a.createElement(p.a,{label:"Abnormal",checked:e.abnormal,onClick:function(){return c(!0,"abnormal",t)}}))),u.a.createElement("td",null,a.length>1?u.a.createElement(f.TextButton,{className:"row-remove-btn",onClick:function(){return function(e){var t=Object(v.a)(a);t.splice(e,1),n(Object(v.a)(t))}(t)}},B.r):""))})))),u.a.createElement(f.TextButton,{blue:!0,withIcon:!0,onClick:function(){n([].concat(Object(v.a)(a),Object(v.a)(t)))}},u.a.createElement("div",{className:"d-flex"},u.a.createElement("span",{className:"add-circle-outline  mr-2"}),u.a.createElement("p",null,"ADD MORE"))))},q=function(e){var t=e.preDefineResult,a=e.setPreDefineResult,n=e.errors;return u.a.createElement("div",{className:"paper pre-defined-test-result-form"},u.a.createElement("label",{className:"paper-label semi-bold mb-3"},"Report Type - Pre-defined Test Results"),u.a.createElement("table",{className:"custom-table report-type-table mb-3"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{width:"50%"},"Pre-defined Test Results"))),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(_.b,{value:t||"",onChange:function(e){return a(e)},error:n&&n.pre_define_result}))))))},F=/[$&+,:;=?@#|'<>^*()%!-/%]/,M=/^-?\d+\.?\d*$/,G={type:"test",test_category:null,report_type:null,unit:null,name:"",short_name:"",gender:null,cost:"",sample_type:null,sample_quantity:"",listable:!0,optional:!1,formula:[]},L={gender:b.b[0],age_from:"",age_to:"",range_from:"",range_to:"",text:""},V=[{result:"",abnormal:!1}],H=function(e){var t,a,n=localStorage.getItem("loginAs"),p=Object(o.useContext)(m.a).profile,j=Object(o.useState)([]),N=Object(s.a)(j,2),x=N[0],k=N[1],C=Object(o.useState)([]),T=Object(s.a)(C,2),S=T[0],R=T[1],A=Object(o.useState)([]),B=Object(s.a)(A,2),H=B[0],U=B[1],J=Object(o.useState)([]),Q=Object(s.a)(J,2),$=Q[0],K=Q[1],W=Object(o.useState)({}),z=Object(s.a)(W,2),X=z[0],Y=z[1],Z=Object(i.i)().testId,ee=Object(o.useState)(Object(l.a)({},G)),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)([Object(l.a)({},L)]),le=Object(s.a)(re,2),ce=le[0],se=le[1],oe=Object(o.useState)([].concat(V)),ue=Object(s.a)(oe,2),ie=ue[0],me=ue[1],de=Object(o.useState)(),be=Object(s.a)(de,2),pe=be[0],ve=be[1],fe=ae.test_category,ge=ae.report_type,he=ae.unit,Ee=ae.name,Oe=ae.short_name,je=ae.gender,ye=ae.cost,Ne=ae.sample_type,xe=ae.sample_quantity,_e=ae.listable,ke=ae.optional,Ce=ae.formula,we=Object(o.useState)({show:!1,message:"",type:""}),Te=Object(s.a)(we,2),Se=Te[0],Re=Te[1],De=Object(o.useState)(!1),Ae=Object(s.a)(De,2),Be=Ae[0],Pe=Ae[1],Ie=Object(o.useState)([]),qe=Object(s.a)(Ie,2),Fe=qe[0],Me=qe[1],Ge=Object(o.useState)(""),Le=Object(s.a)(Ge,2),Ve=Le[0],He=Le[1],Ue=Object(o.useState)(""),Je=Object(s.a)(Ue,2),Qe=Je[0],$e=Je[1],Ke=Object(o.useState)(""),We=Object(s.a)(Ke,2),ze=We[0],Xe=We[1],Ye=Object(o.useState)(""),Ze=Object(s.a)(Ye,2),et=Ze[0],tt=Ze[1],at=Object(o.useState)(""),nt=Object(s.a)(at,2),rt=nt[0],lt=nt[1],ct="/super_admin/";"lab-admin"==n?ct="/lab_group/".concat(null===p||void 0===p||null===(t=p.selectedRole)||void 0===t?void 0:t.uuid,"/"):"lab"==n&&(ct="/lab/".concat(null===p||void 0===p||null===(a=p.selectedRole)||void 0===a?void 0:a.uuid,"/")),Object(o.useEffect)((function(){st(),ot(),ut(),it()}),[]),Object(o.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(o.useEffect)((function(){if(e.obj&&e.obj.testData){var t,a,n,r,c=Object(l.a)({},e.obj.testData);c.formula=(null===(t=c.formula)||void 0===t?void 0:t.length)?c.formula.map((function(e){var t=e.type,a=e.value,n=e.details;return"test"===t?{label:n.name,value:a,id:a,text:n.name,type:t}:{label:a,value:a,id:a,text:a,type:t}})):[];var s=(null===(a=c.test_dependency)||void 0===a?void 0:a.length)?c.test_dependency.map((function(e){return{label:e.test.name,value:e.test.uuid,text:e.test.name,id:e.test.uuid,type:"test"}})):[];Me(s),ne(c),He(c.technique),$e(c.interpretation),Xe(c.method),tt(c.remark),lt(c.note),(null===c||void 0===c||null===(n=c.test_validations)||void 0===n?void 0:n.length)&&se(c.test_validations),(null===c||void 0===c||null===(r=c.possible_test_results)||void 0===r?void 0:r.length)&&me(c.possible_test_results),ve(c.pre_define_result)}}),[e]);var st=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(ct,"test_categories"),method:"GET",isAuth:!0});case 2:if(!(t=e.sent)||200!==t.status){e.next=11;break}return e.next=6,t.json();case 6:return a=e.sent,n=a.data,l=n&&n.length&&Object(v.a)(n).map((function(e){return{label:e.name,value:e.uuid}})),k(l),e.abrupt("return",n);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(ct,"report_types"),method:"GET",isAuth:!0});case 2:if(!(t=e.sent)||200!==t.status){e.next=11;break}return e.next=6,t.json();case 6:return a=e.sent,n=a.data,l=n&&n.length&&Object(v.a)(n).map((function(e){return{label:e.name,value:e.uuid}})),R(l),e.abrupt("return",n);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(ct,"units").concat(t?"?search=".concat(t):""),method:"GET",isAuth:!0});case 2:if(!(a=e.sent)||200!==a.status){e.next=11;break}return e.next=6,a.json();case 6:return n=e.sent,l=n.data,c=l&&l.length&&Object(v.a)(l).map((function(e){return{label:e.name,value:e.uuid}})),U(c),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchRequest)({url:"".concat(ct,"samples"),method:"GET",isAuth:!0});case 2:if(!(t=e.sent)||200!==t.status){e.next=11;break}return e.next=6,t.json();case 6:return a=e.sent,n=a.data,l=n&&n.length&&Object(v.a)(n).map((function(e){return{label:e.name,value:e.uuid}})),K(l),e.abrupt("return",n);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(e,t){var a=Object(l.a)({},ae);a[t]=e,ne(a)},dt=function(){var t=Object(c.a)(r.a.mark((function t(){var a,n,c,s,o,u,i,m,b,p,f,g,h,E,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y({}),Pe(!0),Re({show:!1,message:"",type:""}),a=Object(O.h)({name:Ee,test_categories_id:fe&&fe.value,report_type_id:ge&&ge.value,unit_id:he&&he.value,gender:je&&je.value}),Y(Object(l.a)({},a)),Object.keys(a).length){t.next=38;break}if(c=(null===Fe||void 0===Fe?void 0:Fe.length)?Object(v.a)(Fe).map((function(e){return e.value})):[],s=(null===(n=Object(v.a)(Ce))||void 0===n?void 0:n.length)?Object(v.a)(Ce).map((function(e){return"test"===e.type?{type:"test",value:e.value||e.id}:M.test(parseFloat(e.text))?{type:"int",value:parseFloat(e.text)}:F.test(e.text)?{type:"operator",value:e.text}:{type:"none",value:e.text}})):null,o={type:"test",test_categories_id:fe&&fe.value,report_type_id:ge&&ge.value,unit_id:he&&he.value,name:Ee,short_name:Oe,gender:je&&je.value,cost:ye,sample_type_id:Ne&&Ne.value,sample_quantity:parseFloat(xe),listable:_e,optional:ke,technique:Ve,interpretation:Qe,method:ze,remark:et,note:rt,formula:null},s&&(o=Object(l.a)(Object(l.a)({},o),{},{formula:{test_dependent_on:(null===c||void 0===c?void 0:c.length)?Object(v.a)(c):null,formula:Object(v.a)(s)}})),ge&&"Range"===ge.label&&(u=ce&&ce.length?Object(v.a)(ce).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{gender:e.gender&&"string"===typeof e.gender?e.gender:e.gender.value})})):null,o=Object(l.a)(Object(l.a)({},o),{},{test_validation:u})),ge&&"Possible Test Results"===ge.label&&(i=ie&&ie.length?Object(v.a)(ie):null,o=Object(l.a)(Object(l.a)({},o),{},{possible_results:i})),ge&&"Pre-Defined Test Result"===ge.label&&(o=Object(l.a)(Object(l.a)({},o),{},{pre_define_result:pe})),m="".concat(ct,"tests"),b="POST",Z&&(m="".concat(m,"/").concat(Z),b="PUT"),!m){t.next=36;break}return t.next=18,Object(d.fetchRequest)({url:m,method:b,isAuth:!0,body:o});case 18:if(p=t.sent,Pe(!1),!p||200!==p.status){t.next=27;break}return t.next=23,p.json();case 23:(f=t.sent).success&&(f.message&&Re({show:!0,message:f.message,type:"success"}),setTimeout((function(){return e.history.goBack()}),2e3)),t.next=36;break;case 27:return t.next=29,p.json();case 29:g=t.sent,h=Object(l.a)({},g.errors),E=Object.keys(h).filter((function(e){return e.includes("formula.formula")})),(j=(null===E||void 0===E?void 0:E.length)?E.map((function(e,t){var a=t+1===E.length?", ":" ";return parseInt(e.split(".")[2])+1+a})):null)&&(h.formattedFormulaError=j+"inputs are not valid."),Y(h),422!==p.status&&!Object.keys(g.error?g.error:{}).length&&g.message&&Re({show:!0,message:g.message,type:"error"});case 36:t.next=39;break;case 38:Pe(!1);case 39:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return u.a.createElement("div",{className:"form-content"},u.a.createElement(h.a,Se),u.a.createElement("div",{className:"paper"},u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-5 col-12"},u.a.createElement(y.a,{options:x,value:fe,placeholder:"Category*",onChange:function(e){return mt(e,"test_category")},error:X&&X.test_categories_id})),u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(y.a,{options:S,value:ge,placeholder:"Report Type*",onChange:function(e){return mt(e,"report_type")},error:X&&X.report_type_id})),u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(E.a,{placeholder:"Unit*",options:H,FilterData:ut,value:he,onChange:function(e){return mt(e,"unit")},error:X&&X.unit_id}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-5 col-12"},u.a.createElement(g.a,{placeholder:"Test Name*",value:Ee||"",onChange:function(e){return mt(e.target.value,"name")},error:X&&X.name})),u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(g.a,{placeholder:"Short Name",value:Oe||"",onChange:function(e){return mt(e.target.value,"short_name")},error:X&&X.short_name})),u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(y.a,{options:b.b,value:je,placeholder:"Gender*",onChange:function(e){return mt(e,"gender")},error:X&&X.gender}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-3 col-12"},u.a.createElement(g.a,{placeholder:"Cost",value:ye||"",onChange:function(e){return mt(e.target.value,"cost")},error:X&&X.cost,type:"number"})),u.a.createElement("div",{className:"form-group col-md-5 col-12"},u.a.createElement(y.a,{options:$,value:Ne,placeholder:"Sample Type",onChange:function(e){return mt(e,"sample_type")},error:X&&X.sample_type})),u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(g.a,{placeholder:"Sample Quantity (Optional)",value:xe||"",onChange:function(e){return mt(e.target.value,"sample_quantity")},error:X&&X.sample_quantity}))),u.a.createElement("div",{className:"row mb-3"},u.a.createElement("div",{className:"form-group col-md-3"},u.a.createElement(w.a,{name:"trial_package",label:"Listable",checked:_e,blue:!0,onClick:function(){return mt(!_e,"listable")}})),u.a.createElement("div",{className:"form-group col-md-3"},u.a.createElement(w.a,{name:"trial_package",label:"Optional",checked:ke,blue:!0,onClick:function(){return mt(!ke,"optional")}}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Technique :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.a,{value:Ve||"",onChange:function(e){return He(e)},error:X&&X.technique}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Interpretation :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.a,{value:Qe||"",onChange:function(e){return $e(e)},error:X&&X.interpretation}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Method :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.a,{value:ze||"",onChange:function(e){return Xe(e)},error:X&&X.method}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Remark :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.a,{value:et||"",onChange:function(e){return tt(e)},error:X&&X.remark}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"col-md-3 col-12 text-right gray-label"},"Note :"),u.a.createElement("div",{className:"form-group col-md-8 col-12"},u.a.createElement(_.a,{value:rt||"",onChange:function(e){return lt(e)},error:X&&X.note})))),ge&&("Range"===ge.label||"Numeric Test Result"===ge.label)&&u.a.createElement(D,{dependentTests:Fe,setDependentTests:Me,formula:Ce,setFormula:function(e){return mt(e,"formula")},error:X,reportTypeId:ge.value}),ge&&"Range"===ge.label&&u.a.createElement(P,{defaultTestValidation:L,testValidation:ce,setTestValidation:se,errors:X}),ge&&"Possible Test Results"===ge.label&&u.a.createElement(I,{defaultPossibleTestResult:V,possibleTestResult:ie,setPossibleTestResult:me,errors:X}),ge&&"Pre-Defined Test Result"===ge.label&&u.a.createElement(q,{preDefineResult:pe,setPreDefineResult:ve,errors:X}),u.a.createElement("div",{className:"row mb-4 text-center"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement(f.OutlinedButton,{red:!0,className:"mr-2",onClick:function(){if(Z){var t=["lab-admin","lab"].includes(n)?"/".concat(n,"/setting/view-test/").concat(Z):"/".concat(n,"/view-test/").concat(Z);e.history.push(t)}else ne(Object(l.a)({},G)),He(""),$e(""),Xe(""),tt(""),lt(""),se([Object(l.a)({},L)]),me([].concat(V)),ve()}},"Cancel"),u.a.createElement(f.OutlinedButton,{blue:!0,onClick:dt,disabled:Be,loading:Be},"Save"))))};t.default=function(e){var t,a,n=localStorage.getItem("loginAs"),v=Object(o.useContext)(m.a).profile,f=Object(o.useState)("test"),g=Object(s.a)(f,2),h=g[0],E=g[1],O=Object(i.i)().testId,y=Object(o.useState)(null),N=Object(s.a)(y,2),_=N[0],k=N[1],w="/super_admin/";"lab-admin"==n?w="/lab_group/".concat(null===v||void 0===v||null===(t=v.selectedRole)||void 0===t?void 0:t.uuid,"/"):"lab"==n&&(w="/lab/".concat(null===v||void 0===v||null===(a=v.selectedRole)||void 0===a?void 0:a.uuid,"/"));var T=Object(o.useCallback)(Object(c.a)(r.a.mark((function e(){var t,a,n,c,s,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=13;break}return e.next=3,Object(d.fetchRequest)({url:"".concat(w,"tests/").concat(O),method:"GET",isAuth:!0});case 3:if(!(t=e.sent)||200!==t.status){e.next=12;break}return e.next=7,t.json();case 7:return o=e.sent,u=o.data,k(Object(l.a)(Object(l.a)({},u),{},{test_category:{label:u.test_category.name,value:u.test_category.uuid},report_type:Object(l.a)({label:u.report_type.name,value:u.report_type.uuid},u.report_type),unit:Object(l.a)({label:null===(a=u.unit)||void 0===a?void 0:a.name,value:null===(n=u.unit)||void 0===n?void 0:n.uuid},u.unit),sample_type:Object(l.a)({label:null===(c=u.sample_type)||void 0===c?void 0:c.name,value:null===(s=u.sample_type)||void 0===s?void 0:s.uuid},u.sample_type),gender:b.b.find((function(e){return e.value===u.gender}))})),E(u.type),e.abrupt("return",u);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e)}))),[O]);return Object(o.useEffect)((function(){O&&T()}),[O,T]),u.a.createElement("div",{className:"add-test-container"},u.a.createElement("div",{className:"paper select-test-type"},u.a.createElement("label",{className:"paper-label semi-bold mb-3"},"Select and add details"),u.a.createElement("div",{className:"d-flex"},O?u.a.createElement(u.a.Fragment,null):u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,{label:"Test",checked:"test"==h,onClick:function(){return E("test")},className:"mr-5"}),u.a.createElement(p.a,{label:"Group",checked:"group"==h,onClick:function(){return E("group")},className:"mr-5"}),u.a.createElement(p.a,{label:"Panel",checked:"panel"==h,onClick:function(){return E("panel")},className:"mr-5"}),["lab-admin","lab"].includes(n)&&u.a.createElement(p.a,{label:"Package",checked:"package"==h,onClick:function(){return E("package")}})))),"test"===h&&u.a.createElement(H,Object.assign({obj:{setDetailsType:E,testData:_}},e)),"group"===h&&u.a.createElement(j,Object.assign({obj:{setDetailsType:E,testData:_}},e)),"panel"===h&&u.a.createElement(C,Object.assign({obj:{setDetailsType:E,testData:_}},e)),["lab-admin","lab"].includes(n)&&"package"===h&&u.a.createElement(x,Object.assign({obj:{setDetailsType:E,testData:_}},e)))}},184:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.placeholder,a=e.rows,n=void 0===a?2:a,l=e.value,c=(e.name,e.onChange),s=e.error,o=(e.disabled,e.icon),u=e.className,i=void 0===u?"":u,m=e.maxLength,d=e.hasGrayBack,b=s?"has-error":"";return i+=" form-control ".concat(l?"has-value":""," ").concat(d?"background-gray":""),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group text-area ".concat(b)},r.a.createElement("textarea",{className:i,value:l,rows:n,onChange:c,maxLength:m}),r.a.createElement("label",null,t),o?r.a.createElement("span",{className:"input-icon"},o):r.a.createElement(r.a.Fragment,null)),s?r.a.createElement("p",{className:"assistive-text error-text"},s):r.a.createElement("p",{className:"assistive-text"}))}},198:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(224);t.a=function(e){var t=e.className,a=void 0===t?"":t,c=e.options,s=void 0===c?[]:c,o=e.noOptionsMessage,u=e.value,i=e.onChange,m=e.placeholder,d=e.error,b=e.hasGrayBack,p=void 0!==b&&b,v=e.isMulti,f=void 0!==v&&v,g=(e.hideSelectedOptions,e.isClearable),h=void 0===g||g,E=e.disabled,O=e.isLoading,j=e.FilterData,y="input-group select-control-input ".concat(d?"has-error":""," ").concat(p?"background-gray":""," ").concat(u&&u.value?"has-value":""," ").concat(E?"cursor-notAllowed":"");a+=" select-input ";var N=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:y,ref:N},r.a.createElement(l.a,{value:u,defaultOptions:s,noOptionsMessage:function(){return o},onChange:i,loadOptions:function(e){return e.length&&j(e)},className:a,classNamePrefix:"select-input",placeholder:r.a.createElement("div",null,""),onFocus:function(){return N.current.classList.add("select-focused")},onBlur:function(){return N.current.classList.remove("select-focused")},isClearable:h,isMulti:f,removeSelected:!1,isDisabled:E,isLoading:O}),r.a.createElement("label",{className:"select-placeholder"},m)),d?r.a.createElement("p",{className:"assistive-text error-text"},d):r.a.createElement("p",{className:"assistive-text"}))}},207:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return l}));var n=[{label:"Both",value:"both"},{label:"Male",value:"male"},{label:"Female",value:"female"}],r=[{label:"Male",value:"male"},{label:"Female",value:"female"}],l=[{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"}]},223:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(2);t.a=function(e){var t=e.className,a=e.name,n=e.label,c=e.value,s=e.checked,o=void 0!==s&&s,u=e.onClick;return e.blue,e.red,r.a.createElement("div",{className:"d-flex radio-button ".concat(t)},r.a.createElement("input",{type:"radio",name:a,value:c,checked:o,onChange:u}),r.a.createElement("div",{className:"mr-2 radio-checked",onClick:u},o?l.p:l.Q),r.a.createElement("label",{dangerouslySetInnerHTML:{__html:n}}))}},305:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),l=a(415),c=a(418),s=a.n(c),o=function(e){var t=e.value,a=e.onChange,n=e.error;return r.a.createElement("div",{className:"ck-editor-wrapper"},r.a.createElement(l.CKEditor,{editor:s.a,data:t,onChange:function(e,t){var n=t.getData();a(n)},config:{toolbar:["heading","|","bold","italic","bulletedList","numberedList","insertTable","undo","redo"]},style:{innerHeight:200}}),n?r.a.createElement("p",{className:"assistive-text error-text"},n):r.a.createElement("p",{className:"assistive-text"}))};t.b=o}}]);
//# sourceMappingURL=14.6c04f146.chunk.js.map
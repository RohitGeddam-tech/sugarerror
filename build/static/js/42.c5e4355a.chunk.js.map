{"version":3,"sources":["components/FormInputs/SelectInput/SelectInput.jsx","components/Notification/Notification.jsx","pages/Admin/ContactLeads/EditContactLead.jsx","components/FormInputs/Textarea/Textarea.jsx"],"names":["SelectInput","className","options","value","onChange","placeholder","error","hasGrayBack","isMulti","hideSelectedOptions","isClearable","disabled","isLoading","hidePlaceholder","defaultValue","isSearchable","parentClass","parentRef","useRef","ref","classNamePrefix","onFocus","current","classList","add","onBlur","remove","removeSelected","isDisabled","Notification","message","type","callback","notify","useCallback","toast","success","position","POSITION","BOTTOM_RIGHT","setTimeout","info","warn","useEffect","EditContactLead","props","useState","leadDetails","setLeadDetails","leadId","setLeadId","contactStatuses","setContactStatuses","show","notification","setNotification","errors","setErrors","loading","setLoading","location","state","getContactStatuses","length","getLeadDetails","id","a","fetchRequest","url","method","isAuth","res","status","json","data","tempData","find","newData","map","label","formatted_status","handleChange","key","handleUpdateLead","body","note","history","push","localStorage","getItem","errObj","Object","keys","role","created_at","name","mobile","email","description","attended_user","first_name","last_name","rows","e","target","red","onClick","lightBlue","Textarea","icon","maxLength","hasError"],"mappings":"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","file":"static/js/42.c5e4355a.chunk.js","sourcesContent":["import React, { useRef } from 'react';\nimport Select from 'react-select';\n\nconst SelectInput = ({\n  className = '',\n  options = [],\n  value,\n  onChange,\n  placeholder,\n  error,\n  hasGrayBack = false,\n  isMulti = false,\n  hideSelectedOptions = true,\n  isClearable = true,\n  disabled,\n  isLoading,\n  hidePlaceholder,\n  defaultValue,\n  isSearchable = false,\n}) => {\n  let parentClass = `input-group select-control-input ${error ? 'has-error' : ''} ${hasGrayBack ? 'background-gray' : ''} ${\n    value && value.value ? 'has-value' : ''\n  } ${hidePlaceholder ? 'hide-placeholder' : ''} ${disabled ? 'cursor-notAllowed' : ''}`;\n\n  className += ` select-input `;\n  const parentRef = useRef(null);\n  return (\n    <>\n      <div className={parentClass} ref={parentRef}>\n        <Select\n          value={value}\n          onChange={onChange}\n          options={options}\n          className={className}\n          classNamePrefix=\"select-input\"\n          placeholder={<div>{''}</div>}\n          onFocus={() => parentRef.current.classList.add('select-focused')}\n          onBlur={() => parentRef.current.classList.remove('select-focused')}\n          isClearable={isClearable}\n          isMulti={isMulti}\n          removeSelected={false}\n          defaultValue={defaultValue}\n          isDisabled={disabled}\n          isLoading={isLoading}\n          isSearchable={isSearchable}\n        />\n        <label className=\"select-placeholder\">{placeholder}</label>\n      </div>\n      {error ? <p className=\"assistive-text error-text\">{error}</p> : <p className=\"assistive-text\"></p>}\n    </>\n  );\n};\nexport default SelectInput;\n","import React, { useEffect, useCallback } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Notification({ message, type, callback }) {\n  const notify = useCallback(\n    type => {\n      switch (type) {\n        case 'success': {\n          toast.success(message, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n          });\n          setTimeout(() => {\n            callback && callback();\n          }, 1500);\n          break;\n        }\n        case 'error':\n          toast.error(message, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n          });\n          break;\n        case 'info':\n          toast.info(message, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n          });\n          break;\n        case 'warn':\n          toast.warn(message, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n          });\n          break;\n        default:\n          break;\n      }\n    },\n    [callback, message],\n  );\n\n  useEffect(() => {\n    if (message && type) notify(type);\n  }, [message, notify, type]);\n\n  return (\n    <div>\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport { ContainedButton, OutlinedButton } from '../../../components/Buttons/Button';\nimport SelectInput from '../../../components/FormInputs/SelectInput/SelectInput';\nimport Textarea from '../../../components/FormInputs/Textarea/Textarea';\nimport Notification from '../../../components/Notification/Notification';\nimport { fetchRequest } from '../../../utils/api';\n\nconst EditContactLead = props => {\n  const [leadDetails, setLeadDetails] = useState(null);\n  const [leadId, setLeadId] = useState();\n  const [contactStatuses, setContactStatuses] = useState([]);\n  const [notification, setNotification] = useState({ show: false, message: '', type: '' });\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const { leadId } = props.location.state ? props.location.state : {};\n    if (leadId) {\n      getContactStatuses(leadId);\n      setLeadId(leadId);\n    }\n  }, [props.location.state]);\n\n  useEffect(() => {\n    contactStatuses && contactStatuses.length && getLeadDetails(leadId);\n  }, [contactStatuses, leadId]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getLeadDetails = id => {\n    setLoading(true);\n    (async () => {\n      const res = await fetchRequest({ url: `/super_admin/contact_lead/${id}`, method: 'GET', isAuth: true });\n      setLoading(false);\n      if (res && res.status === 200) {\n        const data = await res.json();\n        const tempData = { ...data.data };\n        tempData.status = contactStatuses.find(status => status.value === tempData.status);\n        setLeadDetails(tempData);\n        return data;\n      }\n      return;\n    })();\n  };\n\n  const getContactStatuses = async leadId => {\n    const res = await fetchRequest({ url: '/super_admin/contact_statuses', method: 'GET', isAuth: true });\n    if (res && res.status === 200) {\n      const { data } = await res.json();\n      const newData = data && data.length && [...data].map(status => ({ label: status.formatted_status, value: status.status }));\n      setContactStatuses(newData);\n      return data;\n    }\n    return;\n  };\n\n  const handleChange = (value, key) => {\n    let data = { ...leadDetails };\n    data[key] = value;\n    setLeadDetails({ ...data });\n  };\n\n  const handleUpdateLead = async () => {\n    setErrors({});\n    setNotification({ show: false, message: '', type: '' });\n    let body = {\n      // status: leadDetails.status ? { formatted_status: leadDetails.status.label, status: leadDetails.status.value } : null,\n      status: leadDetails.status && leadDetails.status.value,\n      note: leadDetails.note || '',\n    };\n\n    const res = await fetchRequest({ url: `/super_admin/contact_lead/${leadId}`, method: 'PUT', isAuth: true, body });\n    if (res && res.status === 200) {\n      const data = await res.json();\n      if (data.success) {\n        data.message &&\n          setNotification({\n            show: true,\n            message: data.message,\n            type: 'success',\n          });\n        setTimeout(() => props.history.push(`/${localStorage.getItem('loginAs')}/contact-leads`), 2000);\n      }\n    } else {\n      const errObj = await res.json();\n      setErrors({ ...errObj.errors });\n      res.status !== 422 &&\n        !Object.keys(errObj.error ? errObj.error : {}).length &&\n        errObj.message &&\n        setNotification({ show: true, message: errObj.message, type: 'error' });\n    }\n  };\n\n  const handleCancel = () => {\n    getLeadDetails(leadId);\n    props.history.push(`/${localStorage.getItem('loginAs')}/contact-leads`);\n  };\n\n  return loading ? (\n    <div className=\"spinner-border\" role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  ) : leadDetails ? (\n    <div className=\"form-content\">\n      <Notification {...notification} />\n      <div className=\"edit-lead-container\">\n        <div className=\"paper card \">\n          <div className={`content-header d-flex align-items-baseline justify-content-between`}>\n            <p className=\"semi-bold title\">Lead Details</p>\n          </div>\n          <div className=\"edit-user-data-card pl-2\">\n            <div className=\"d-flex card-row mb-2\">\n              <div className=\"semi-bold label\">Date : </div>\n              <div className=\"value\">{leadDetails.created_at || '-'}</div>\n            </div>\n            <div className=\"d-flex card-row mb-2\">\n              <div className=\"semi-bold label\">Name : </div>\n              <div className=\"value\">{leadDetails.name || '-'}</div>\n            </div>\n            <div className=\"d-flex card-row mb-2\">\n              <div className=\"semi-bold label\">Mobile No. : </div>\n              <div className=\"value\">{leadDetails.mobile || '-'}</div>\n            </div>\n            <div className=\"d-flex card-row mb-2\">\n              <div className=\"semi-bold label\">Email : </div>\n              <div className=\"value\">{leadDetails.email || '-'}</div>\n            </div>\n            <div className=\"d-flex card-row mb-2\">\n              <div className=\"semi-bold label\">Type : </div>\n              <div className=\"value\">{leadDetails.type || '-'}</div>\n            </div>\n            <div className=\"d-flex card-row mb-3\">\n              <div className=\"semi-bold label\">Description : </div>\n              <div className=\"value\">{leadDetails.description || '-'}</div>\n            </div>\n            <div className=\"d-flex mb-4 row\">\n              <div className=\"col-sm-2 semi-bold label text-right\">Status : </div>\n              <div className=\"col-sm-5 pl-0\">\n                <SelectInput\n                  options={contactStatuses}\n                  value={leadDetails.status || null}\n                  onChange={value => handleChange(value, 'status')}\n                  error={errors && errors['status']}\n                ></SelectInput>\n              </div>\n            </div>\n            <div className=\"d-flex card-row mb-4\">\n              <div className=\"semi-bold label\">Attended by : </div>\n              <div className=\"value\">\n                {leadDetails.attended_user\n                  ? (leadDetails.attended_user.first_name || '-') + ' ' + (leadDetails.attended_user.last_name || '-')\n                  : '--'}\n              </div>\n            </div>\n            <div className=\"d-flex mb-4 row\">\n              <div className=\"col-sm-2 semi-bold label text-right\">Note : </div>\n              <div className=\"col-sm-8 pl-0\">\n                <Textarea\n                  rows={1}\n                  value={leadDetails.note || ''}\n                  onChange={e => handleChange(e.target.value, 'note')}\n                  error={errors && errors['note']}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"mb-4 text-center\">\n          <OutlinedButton red className=\"mr-2\" onClick={handleCancel}>\n            Cancel\n          </OutlinedButton>\n          <ContainedButton lightBlue onClick={handleUpdateLead}>\n            Save\n          </ContainedButton>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <></>\n  );\n};\n\nexport default EditContactLead;\n","import React from 'react';\n\nfunction Textarea({ placeholder, rows = 2, value, name, onChange, error, disabled = false, icon, className = '', maxLength, hasGrayBack }) {\n  let hasError = error ? 'has-error' : '';\n  className += ` form-control ${value ? 'has-value' : ''} ${hasGrayBack ? 'background-gray' : ''}`;\n  // const inputRef = useRef(null);\n  // if (error) {\n  //   inputRef.current.focus();\n  // }\n  return (\n    <>\n      <div className={`input-group text-area ${hasError}`}>\n        <textarea className={className} value={value} rows={rows} onChange={onChange} maxLength={maxLength} />\n        <label>{placeholder}</label>\n        {icon ? <span className=\"input-icon\">{icon}</span> : <></>}\n      </div>\n      {error ? <p className=\"assistive-text error-text\">{error}</p> : <p className=\"assistive-text\"></p>}\n    </>\n  );\n}\n\nexport default Textarea;\n"],"sourceRoot":""}
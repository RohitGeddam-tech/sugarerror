(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[65],{1546:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(13),r=a(14),l=a.n(r),s=a(18),i=a(9),o=a(0),u=a.n(o),d=a(2),m=a(155),p=a(183),f=a(3),b=a(17),g=function(e){var t=e.setFilter,a=e.selectedFilters,n=e.openFilterAction,r=e.list,l=e.filter,s=e.isLoading,i=e.getSelectedData,g=Object(o.useContext)(b.a),h=g.profile,v=g.setProfileData,y=[{labelAsIcon:d.n,accessKey:"checked",keyToCheck:"uuid",renderIcon:d.n,isCheckbox:!0,isMobile:!1},{label:"Date",accessKey:"date",dateFilter:{show:!0,selectDateRange:!0},selectsDateRange:!0},{label:"Lab ID",accessKey:"lab_id",isMobile:!1},{label:"Lab Name",accessKey:"name",classes:"main-content semi-bold"},{label:"Mobile No.",accessKey:"mobile_number",isMobile:!1},{label:"Package Type",cursor:"pointer",renderFilterIcon:{icon:d.B,key:"pac"},accessKey:"package_type",isMobile:!1},{label:"Source",accessKey:"source",isMobile:!1},{label:"Days Left",isMobile:!1,cellRenderer:function(e){return e.days_left||"0"}},{label:"Credits Left",isMobile:!1,cellRenderer:function(e){return e.credit_left||"0"}},{label:"City",cursor:"pointer",renderFilterIcon:{icon:d.B,key:"city"},accessKey:"city",isMobile:!1},{label:"Status",cursor:"pointer",renderFilterIcon:{icon:d.B,key:"status"},cellRenderer:function(e){return"Active"===e.formatted_status?u.a.createElement("span",{className:"status-active"},"Active"):u.a.createElement("span",{className:"status-in active"},"Package Expired")}},{label:"",accessKey:"more",isMobile:!1,cellRenderer:function(e){return u.a.createElement("div",{className:"d-flex align-items-center"},u.a.createElement(p.a,{button:u.a.createElement("p",{className:"table-icon"},d.I),className:"view-detail-popover"},u.a.createElement(f.b,{to:{pathname:"/".concat(localStorage.getItem("loginAs"),"/lab-details/main-office-details")},className:"hover-black py-1",onClick:function(){localStorage.setItem("selectedLabId",e.uuid),v(Object(c.a)(Object(c.a)({},h),{},{selectedLabId:e.uuid}))}},"View Lab Details")))}}],E=Object(o.useCallback)((function(e){t(Object(c.a)(Object(c.a)({},l),e))}),[]);return u.a.createElement(m.a,{columnDefs:y,tableData:r.data,selectedFilters:a,openFilterAction:n,pagination:Object(c.a)(Object(c.a)({},r.pagination),{},{getListPerPage:E}),renderCheckbox:d.n,isButtonCard:u.a.createElement("span",{className:"next-arrow"},d.x),setFilter:t,filter:l,isLoading:s,listName:"labs",getSelectedData:i})},h=a(38),v=a(149),y=a(22),E=a(413),j=a(179),O=a.n(j),_=a(245);a(246),a(247),t.default=function(){var e=Object(h.a)(),t=Object(i.a)(e,1)[0],a=Object(o.useState)({data:[],pagination:{}}),r=Object(i.a)(a,2),m=r[0],p=r[1],f=Object(o.useState)({per_page:15,current_page:1,sort:[],date_from:O()().subtract(1,"year").format("YYYY-MM-DD"),date_to:O()().format("YYYY-MM-DD")}),b=Object(i.a)(f,2),j=b[0],k=b[1],D=Object(o.useState)(!1),N=Object(i.a)(D,2),C=N[0],S=N[1],x=Object(o.useState)([]),Y=Object(i.a)(x,2),w=Y[0],M=Y[1],L=Object(o.useState)(["paid","free"]),A=Object(i.a)(L,2),F=A[0],I=(A[1],Object(o.useState)([])),P=Object(i.a)(I,2),R=P[0],T=P[1],K=Object(o.useState)([]),B=Object(i.a)(K,2),q=B[0],G=B[1],J=Object(o.useState)([]),U=Object(i.a)(J,2),V=U[0],z=U[1],H=Object(o.useState)([]),Q=Object(i.a)(H,2),W=Q[0],X=Q[1],Z=Object(o.useState)([]),$=Object(i.a)(Z,2),ee=$[0],te=($[1],Object(o.useState)([])),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],re=Object(o.useState)(["Active","Inactive","Package Expired"]),le=Object(i.a)(re,2),se=le[0],ie=(le[1],Object(o.useState)(!1)),oe=Object(i.a)(ie,2),ue=oe[0],de=oe[1],me=Object(o.useState)(!1),pe=Object(i.a)(me,2),fe=pe[0],be=pe[1],ge=Object(o.useState)(!1),he=Object(i.a)(ge,2),ve=he[0],ye=he[1],Ee=Object(o.useState)({start:O()(),end:O()()}),je=Object(i.a)(Ee,2),Oe=(je[0],je[1]),_e=Object(o.useState)(null),ke=Object(i.a)(_e,2),De=(ke[0],ke[1]),Ne=Object(o.useCallback)((function(e){return M(e)}),[]),Ce=Object(o.useCallback)((function(){S(!0);var e=j.per_page,t=void 0===e?15:e;j.current_page,j.search,j.date_from,j.date_to,j.sort;t&&Object(s.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/super_admin/cities",e.next=3,Object(y.fetchRequest)({url:"/super_admin/cities",method:"GET",isAuth:!0});case 3:if(!(t=e.sent)||200!==t.status){e.next=15;break}return S(!1),e.next=8,t.json();case 8:return a=e.sent,n=a.data,a.meta,G(n),e.abrupt("return",n);case 15:S(!1);case 16:return e.abrupt("return");case 17:case"end":return e.stop()}}),e)})))()}),[]),Se=Object(o.useCallback)((function(){S(!0);var e=j.per_page,t=void 0===e?15:e;j.current_page,j.search,j.date_from,j.date_to,j.sort;t&&Object(s.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/super_admin/cities",e.next=3,Object(y.fetchRequest)({url:"/super_admin/cities",method:"GET",isAuth:!0});case 3:if(!(t=e.sent)||200!==t.status){e.next=15;break}return S(!1),e.next=8,t.json();case 8:return a=e.sent,n=a.data,a.meta,G(n),e.abrupt("return",n);case 15:S(!1);case 16:return e.abrupt("return");case 17:case"end":return e.stop()}}),e)})))()}),[]),xe=Object(o.useCallback)((function(){S(!0),ye(!1),de(!1),be(!1);for(var e=0;e<R.length;e++)ee.includes(R[e])||ee.push(R[e]);for(var t=0;t<W.length;t++)ee.includes(W[t])||ee.push(W[t]);for(var a=0;a<V.length;a++)ee.includes(V[a])||ee.push(V[a]);var n=j.per_page,c=void 0===n?15:n,r=j.current_page,i=j.search,o=j.date_from,u=j.date_to,d=j.sort;c&&Object(s.a)(l.a.mark((function e(){var t,a,n,s,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/super_admin/labs?per_page=".concat(c).concat(r?"&page=".concat(r):"").concat(0!==V.length?"&cities=".concat(Le()):"").concat(0!==W.length?"&status=".concat(Ae()):"").concat(0!==R.length?"&package_type=".concat(Fe()):"").concat(i?"&search=".concat(i):"").concat(o?"&date_from=".concat(o):"").concat(u?"&date_to=".concat(u):"").concat(d&&d.length?d.map((function(e){return"&".concat(e.key,"=").concat(e.value)})).join(""):""),e.next=3,Object(y.fetchRequest)({url:t,method:"GET",isAuth:!0});case 3:if(!(a=e.sent)||200!==a.status){e.next=15;break}return S(!1),e.next=8,a.json();case 8:return n=e.sent,s=n.data,m=n.meta,p({data:s,pagination:m.pagination}),e.abrupt("return",s);case 15:S(!1);case 16:return e.abrupt("return");case 17:case"end":return e.stop()}}),e)})))()}),[j]);Object(o.useEffect)((function(){xe()}),[j,xe]),Object(o.useEffect)((function(){Ce(),Se()}),[]);var Ye=j.date_from&&O()(j.date_from).format("DD-MM-YYYY")+" to "+O()(j.date_to).format("DD-MM-YYYY"),we={Today:[O()().toDate(),O()().toDate()],Yesterday:[O()().subtract(1,"days").toDate(),O()().subtract(1,"days").toDate()],"This Month":[O()().startOf("month").toDate(),O()().endOf("month").toDate()],"Last 7 Days":[O()().subtract(6,"days").toDate(),O()().toDate()],"Last 30 Days":[O()().subtract(29,"days").toDate(),O()().toDate()],"Last 6 Months":[O()().subtract(6,"months").toDate(),O()().toDate()],"Last 1 Year":[O()().subtract(1,"year").toDate(),O()().toDate()]},Me=function(e,t,a){if("City"===t)if(V.includes(a))for(var n=0;n<V.length;n++)a===V[n]&&(V.splice(n,1),De({status:!1,data:a}));else V.push(a),De({status:!0,data:a});else if("Status"===t)if(W.includes(a))for(var c=0;c<W.length;c++)a===W[c]&&(W.splice(c,1),De({status:!1,data:a}));else W.push(a),De({status:!0,data:a});else if(R.includes(a))for(var r=0;r<R.length;r++)a===R[r]&&(R.splice(r,1),De({status:!1,data:a}));else R.push(a),De({status:!0,data:a})},Le=function(){var e="";return V.forEach((function(t){e=""===e?t:e+","+t})),e},Ae=function(){var e="";return W.forEach((function(t){e=""===e?t:e+","+t})),e},Fe=function(){var e="";return R.forEach((function(t){e=""===e?t:e+","+t})),e},Ie=function(e){if("remove_filter"===e){V.length=0,xe();for(var t=0;t<ne.length;t++)"City"===ne[t]&&ne.splice(t,1);be(!1)}else{for(var a=[],c=0;c<V.length;c++)ee.includes(V[c])&&a.push(V[c]);if(V.length=0,z([].concat(Object(n.a)(V),a)),0===V.length)for(var r=0;r<ne.length;r++)"City"===ne[r]&&ne.splice(r,1);be(!1)}},Pe=function(e){if("remove_filter"===e){R.length=0,xe();for(var t=0;t<ne.length;t++)"Package Type"===ne[t]&&ne.splice(t,1);de(!1)}else{for(var a=[],c=0;c<R.length;c++)ee.includes(R[c])&&a.push(R[c]);if(R.length=0,T([].concat(Object(n.a)(R),a)),0===R.length)for(var r=0;r<ne.length;r++)"Package Type"===ne[r]&&ne.splice(r,1);de(!1)}},Re=function(e){if("remove_filter"===e){W.length=0,xe();for(var t=0;t<ne.length;t++)"Status"===ne[t]&&ne.splice(t,1);ye(!1)}else{for(var a=[],c=0;c<W.length;c++)ee.includes(W[c])&&a.push(W[c]);if(W.length=0,X([].concat(Object(n.a)(W),a)),0===W.length)for(var r=0;r<ne.length;r++)"Status"===ne[r]&&ne.splice(r,1);ye(!1)}};return u.a.createElement("div",{className:"paper card list-path-lab-container list-container"},u.a.createElement("div",{className:"content-header"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-6 col-md-2"},u.a.createElement("p",{className:"semi-bold title"},"All Path Labs")),u.a.createElement("div",{className:"col-6 col-md-2"},u.a.createElement("div",{className:"form-group text-right"},u.a.createElement(E.a,{path:"/super_admin/labs_export",filter:j,selectedData:w}))),u.a.createElement("div",{className:"col-md-4 customDatePicker-wrapper"},u.a.createElement(_.a,{className:"customDatePicker",id:"customDatePicker",initialSettings:{maxDate:new Date,startDate:O()().subtract(1,"year").toDate(),endDate:O()().toDate(),ranges:we,autoUpdateInput:!0},onCallback:function(e,t){Oe({start:e,end:t}),k(Object(c.a)(Object(c.a)({},j),{},{current_page:1,date_from:O()(e._d).format("YYYY-MM-DD"),date_to:O()(t._d).format("YYYY-MM-DD")}))}},u.a.createElement("div",{className:"customDatePicker-innerwrapper"},u.a.createElement("span",{className:Ye?"range-value":"range-placeholder"},Ye||"Select Range"),u.a.createElement("label",{className:"table-icon d-inline"},d.i)))),u.a.createElement("div",{className:"push-4 col-md-4"},u.a.createElement(v.a,{setFilter:k,filter:j,placeholder:"Search by Name or Mobile No."}))),t<=768?u.a.createElement("div",{className:"d-flex justify-content-end mr-2 filter"},u.a.createElement("p",{className:"mr-1"},d.B)," ",u.a.createElement("p",null,"Filter")):u.a.createElement(u.a.Fragment,null)),u.a.createElement("div",{className:"content-body"},!0===fe?u.a.createElement("div",{className:"filter_container"},u.a.createElement("div",{className:"filter_subcontainer_reff"},q.map((function(e){return u.a.createElement("div",{key:e},u.a.createElement("label",null,u.a.createElement("input",{onChange:function(t){return Me(0,"City",e)},checked:!!V.includes(e),type:"checkbox"})," ",e))}))),u.a.createElement("div",{className:"filter_options"},u.a.createElement("span",{onClick:function(){return Ie("remove_filter")},style:{color:"rgba(223, 116, 106, 1)"}},"Remove filter"),u.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},u.a.createElement("span",{onClick:function(){return Ie("cancel")}},"Cancel"),0===V.length?u.a.createElement("span",{style:{paddingLeft:10}},"Apply"):u.a.createElement("span",{onClick:function(){return xe()},style:{paddingLeft:10,color:"blue"}},"Apply")))):u.a.createElement("div",null),!0===ue?u.a.createElement("div",{className:"filter_container_pac"},u.a.createElement("div",{className:"filter_subcontainer_reff"},F.map((function(e){return u.a.createElement("div",{key:e},u.a.createElement("label",{key:e},u.a.createElement("input",{onChange:function(t){return Me(0,"Package",e)},checked:!!R.includes(e),type:"checkbox"})," ",e))}))),u.a.createElement("div",{className:"filter_options"},u.a.createElement("span",{onClick:function(){return Pe("remove_filter")},style:{color:"rgba(223, 116, 106, 1)"}},"Remove filter"),u.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},u.a.createElement("span",{onClick:function(){return Pe("calcel")}},"Cancel"),0===R.length?u.a.createElement("span",{style:{paddingLeft:10}},"Apply"):u.a.createElement("span",{onClick:function(){return xe()},style:{paddingLeft:10,color:"blue"}},"Apply")))):u.a.createElement("div",null),!0===ve?u.a.createElement("div",{className:"filter_container_status"},u.a.createElement("div",{className:"filter_subcontainer_reff"},se.map((function(e){return u.a.createElement("div",{key:e},u.a.createElement("label",null,u.a.createElement("input",{onChange:function(t){return Me(0,"Status",e)},checked:!!W.includes(e),type:"checkbox"})," ",e))}))),u.a.createElement("div",{className:"filter_options"},u.a.createElement("span",{onClick:function(){return Re("remove_filter")},style:{color:"rgba(223, 116, 106, 1)"}},"Remove filter"),u.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},u.a.createElement("span",{onClick:function(){return Re("cancel")}},"Cancel"),0===W.length?u.a.createElement("span",{style:{paddingLeft:10}},"Apply"):u.a.createElement("span",{onClick:function(){return xe()},style:{paddingLeft:10,color:"blue"}},"Apply")))):u.a.createElement("div",null),u.a.createElement(g,{setFilter:k,selectedFilters:ne,openFilterAction:function(e,t){"Status"===t?(ye(!0),be(!1),de(!1),ne.includes("Status")||ne.push(t),ce(ce)):"City"===t?(be(!0),de(!1),ye(!1),ne.includes("City")||ne.push(t),ce(ce)):"Package Type"===t&&(de(!0),ye(!1),be(!1),ne.includes("Package Type")||ne.push(t),ce(ce))},filter:j,isLoading:C,list:m,getSelectedData:Ne})))}},183:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function(e){var t=e.button,a=e.children,n=e.className,r=void 0===n?"":n;return c.a.createElement("div",{className:"nav-item dropdown popover-dropdown"},c.a.createElement("span",{className:"nav-item nav-link dropdown-toggle",id:"bd-versions","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},t),c.a.createElement("div",{className:"dropdown-menu dropdown-menu-md-right ".concat(r),"aria-labelledby":"bd-versions"},a))}}}]);
//# sourceMappingURL=65.3c623e9e.chunk.js.map
(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[42],{144:function(e,a,t){"use strict";var s=t(0),n=t.n(s),r=t(156);a.a=function(e){var a=e.className,t=void 0===a?"":a,c=e.options,l=void 0===c?[]:c,o=e.value,i=e.onChange,u=e.placeholder,m=e.error,d=e.hasGrayBack,b=void 0!==d&&d,v=e.isMulti,f=void 0!==v&&v,p=(e.hideSelectedOptions,e.isClearable),E=void 0===p||p,h=e.disabled,N=e.isLoading,g=e.hidePlaceholder,O=e.defaultValue,x=e.isSearchable,j=void 0!==x&&x,w="input-group select-control-input ".concat(m?"has-error":""," ").concat(b?"background-gray":""," ").concat(o&&o.value?"has-value":""," ").concat(g?"hide-placeholder":""," ").concat(h?"cursor-notAllowed":"");t+=" select-input ";var T=Object(s.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:w,ref:T},n.a.createElement(r.a,{value:o,onChange:i,options:l,className:t,classNamePrefix:"select-input",placeholder:n.a.createElement("div",null,""),onFocus:function(){return T.current.classList.add("select-focused")},onBlur:function(){return T.current.classList.remove("select-focused")},isClearable:E,isMulti:f,removeSelected:!1,defaultValue:O,isDisabled:h,isLoading:N,isSearchable:j}),n.a.createElement("label",{className:"select-placeholder"},u)),m?n.a.createElement("p",{className:"assistive-text error-text"},m):n.a.createElement("p",{className:"assistive-text"}))}},147:function(e,a,t){"use strict";var s=t(0),n=t.n(s),r=t(158);t(157);a.a=function(e){var a=e.message,t=e.type,c=e.callback,l=Object(s.useCallback)((function(e){switch(e){case"success":r.b.success(a,{position:r.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){c&&c()}),1500);break;case"error":r.b.error(a,{position:r.b.POSITION.BOTTOM_RIGHT});break;case"info":r.b.info(a,{position:r.b.POSITION.BOTTOM_RIGHT});break;case"warn":r.b.warn(a,{position:r.b.POSITION.BOTTOM_RIGHT})}}),[c,a]);return Object(s.useEffect)((function(){a&&t&&l(t)}),[a,l,t]),n.a.createElement("div",null,n.a.createElement(r.a,null))}},1509:function(e,a,t){"use strict";t.r(a);var s=t(6),n=t(14),r=t.n(n),c=t(13),l=t(18),o=t(9),i=t(0),u=t.n(i),m=t(10),d=t(144),b=t(184),v=t(147),f=t(22);a.default=function(e){var a=Object(i.useState)(null),t=Object(o.a)(a,2),n=t[0],p=t[1],E=Object(i.useState)(),h=Object(o.a)(E,2),N=h[0],g=h[1],O=Object(i.useState)([]),x=Object(o.a)(O,2),j=x[0],w=x[1],T=Object(i.useState)({show:!1,message:"",type:""}),k=Object(o.a)(T,2),y=k[0],S=k[1],_=Object(i.useState)({}),I=Object(o.a)(_,2),C=I[0],B=I[1],G=Object(i.useState)(!1),L=Object(o.a)(G,2),R=L[0],A=L[1];Object(i.useEffect)((function(){var a=(e.location.state?e.location.state:{}).leadId;a&&(P(a),g(a))}),[e.location.state]),Object(i.useEffect)((function(){j&&j.length&&M(N)}),[j,N]);var M=function(e){A(!0),Object(l.a)(r.a.mark((function a(){var t,s,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(f.fetchRequest)({url:"/super_admin/contact_lead/".concat(e),method:"GET",isAuth:!0});case 2:if(t=a.sent,A(!1),!t||200!==t.status){a.next=12;break}return a.next=7,t.json();case 7:return s=a.sent,(n=Object(c.a)({},s.data)).status=j.find((function(e){return e.value===n.status})),p(n),a.abrupt("return",s);case 12:return a.abrupt("return");case 13:case"end":return a.stop()}}),a)})))()},P=function(){var e=Object(l.a)(r.a.mark((function e(a){var t,n,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.fetchRequest)({url:"/super_admin/contact_statuses",method:"GET",isAuth:!0});case 2:if(!(t=e.sent)||200!==t.status){e.next=11;break}return e.next=6,t.json();case 6:return n=e.sent,c=n.data,l=c&&c.length&&Object(s.a)(c).map((function(e){return{label:e.formatted_status,value:e.status}})),w(l),e.abrupt("return",c);case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),F=function(e,a){var t=Object(c.a)({},n);t[a]=e,p(Object(c.a)({},t))},D=function(){var a=Object(l.a)(r.a.mark((function a(){var t,s,l,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return B({}),S({show:!1,message:"",type:""}),t={status:n.status&&n.status.value,note:n.note||""},a.next=5,Object(f.fetchRequest)({url:"/super_admin/contact_lead/".concat(N),method:"PUT",isAuth:!0,body:t});case 5:if(!(s=a.sent)||200!==s.status){a.next=13;break}return a.next=9,s.json();case 9:(l=a.sent).success&&(l.message&&S({show:!0,message:l.message,type:"success"}),setTimeout((function(){return e.history.push("/".concat(localStorage.getItem("loginAs"),"/contact-leads"))}),2e3)),a.next=18;break;case 13:return a.next=15,s.json();case 15:o=a.sent,B(Object(c.a)({},o.errors)),422!==s.status&&!Object.keys(o.error?o.error:{}).length&&o.message&&S({show:!0,message:o.message,type:"error"});case 18:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return R?u.a.createElement("div",{className:"spinner-border",role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading...")):n?u.a.createElement("div",{className:"form-content"},u.a.createElement(v.a,y),u.a.createElement("div",{className:"edit-lead-container"},u.a.createElement("div",{className:"paper card "},u.a.createElement("div",{className:"content-header d-flex align-items-baseline justify-content-between"},u.a.createElement("p",{className:"semi-bold title"},"Lead Details")),u.a.createElement("div",{className:"edit-user-data-card pl-2"},u.a.createElement("div",{className:"d-flex card-row mb-2"},u.a.createElement("div",{className:"semi-bold label"},"Date : "),u.a.createElement("div",{className:"value"},n.created_at||"-")),u.a.createElement("div",{className:"d-flex card-row mb-2"},u.a.createElement("div",{className:"semi-bold label"},"Name : "),u.a.createElement("div",{className:"value"},n.name||"-")),u.a.createElement("div",{className:"d-flex card-row mb-2"},u.a.createElement("div",{className:"semi-bold label"},"Mobile No. : "),u.a.createElement("div",{className:"value"},n.mobile||"-")),u.a.createElement("div",{className:"d-flex card-row mb-2"},u.a.createElement("div",{className:"semi-bold label"},"Email : "),u.a.createElement("div",{className:"value"},n.email||"-")),u.a.createElement("div",{className:"d-flex card-row mb-2"},u.a.createElement("div",{className:"semi-bold label"},"Type : "),u.a.createElement("div",{className:"value"},n.type||"-")),u.a.createElement("div",{className:"d-flex card-row mb-3"},u.a.createElement("div",{className:"semi-bold label"},"Description : "),u.a.createElement("div",{className:"value"},n.description||"-")),u.a.createElement("div",{className:"d-flex mb-4 row"},u.a.createElement("div",{className:"col-sm-2 semi-bold label text-right"},"Status : "),u.a.createElement("div",{className:"col-sm-5 pl-0"},u.a.createElement(d.a,{options:j,value:n.status||null,onChange:function(e){return F(e,"status")},error:C&&C.status}))),u.a.createElement("div",{className:"d-flex card-row mb-4"},u.a.createElement("div",{className:"semi-bold label"},"Attended by : "),u.a.createElement("div",{className:"value"},n.attended_user?(n.attended_user.first_name||"-")+" "+(n.attended_user.last_name||"-"):"--")),u.a.createElement("div",{className:"d-flex mb-4 row"},u.a.createElement("div",{className:"col-sm-2 semi-bold label text-right"},"Note : "),u.a.createElement("div",{className:"col-sm-8 pl-0"},u.a.createElement(b.a,{rows:1,value:n.note||"",onChange:function(e){return F(e.target.value,"note")},error:C&&C.note}))))),u.a.createElement("div",{className:"mb-4 text-center"},u.a.createElement(m.OutlinedButton,{red:!0,className:"mr-2",onClick:function(){M(N),e.history.push("/".concat(localStorage.getItem("loginAs"),"/contact-leads"))}},"Cancel"),u.a.createElement(m.ContainedButton,{lightBlue:!0,onClick:D},"Save")))):u.a.createElement(u.a.Fragment,null)}},184:function(e,a,t){"use strict";var s=t(0),n=t.n(s);a.a=function(e){var a=e.placeholder,t=e.rows,s=void 0===t?2:t,r=e.value,c=(e.name,e.onChange),l=e.error,o=(e.disabled,e.icon),i=e.className,u=void 0===i?"":i,m=e.maxLength,d=e.hasGrayBack,b=l?"has-error":"";return u+=" form-control ".concat(r?"has-value":""," ").concat(d?"background-gray":""),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-group text-area ".concat(b)},n.a.createElement("textarea",{className:u,value:r,rows:s,onChange:c,maxLength:m}),n.a.createElement("label",null,a),o?n.a.createElement("span",{className:"input-icon"},o):n.a.createElement(n.a.Fragment,null)),l?n.a.createElement("p",{className:"assistive-text error-text"},l):n.a.createElement("p",{className:"assistive-text"}))}}}]);
//# sourceMappingURL=42.c5e4355a.chunk.js.map
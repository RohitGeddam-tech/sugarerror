(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[21],{1508:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t.n(n),c=t(18),l=t(9),s=t(0),i=t.n(s),o=t(3),m=t(4),d=t(611),u=t(1493),b=t(789),g=t(25),h=t(22),p=t(17),v=t(2),f=function(e){var a=e.children,t=e.to,n=void 0===t?"":t;return i.a.createElement("li",{className:"nav-item"},i.a.createElement(o.c,{to:n,activeClassName:"is-active",className:"nav-link d-flex flex-column "},a,i.a.createElement("span",{className:"nav-border"})))};a.default=function(){var e=localStorage.getItem("loginAs"),a=Object(s.useContext)(p.a).profile,t=Object(s.useState)(),n=Object(l.a)(t,2),E=n[0],_=n[1],j=Object(m.i)().branchId,O=Object(s.useState)({}),N=Object(l.a)(O,2),w=N[0],x=N[1],k=Object(s.useState)([]),S=Object(l.a)(k,2),y=S[0],P=S[1];return Object(s.useEffect)((function(){localStorage.setItem("selectedBranchId",j)}),[j]),Object(s.useEffect)((function(){a&&"lab-admin"===e?(_(a.selectedRole.uuid),P([{label:"Name & Address",url:"/lab-admin/setting/branch-settings/".concat(j,"/name-and-address"),path:"/lab-admin/setting/branch-settings/:branchId/name-and-address",exact:!0,key:"branch-settings",component:d.default},{label:"Branch Users",url:"/lab-admin/setting/branch-settings/".concat(j,"/branch-users"),path:"/lab-admin/setting/branch-settings/:branchId/branch-users",exact:!0,key:"branch-settings",component:u.default},{label:"Report Letterhead & Sign",url:"/lab-admin/setting/branch-settings/".concat(j,"/report"),path:"/lab-admin/setting/branch-settings/:branchId/report",exact:!0,key:"branch-settings",component:b.default}])):!a||"super-admin"!==e&&"assistant-admin"!==e||(_(a.selectedLabId),P([{label:"Name & Address",url:"/".concat(e,"/branch-settings/").concat(j,"/name-and-address"),path:"/".concat(e,"/branch-settings/:branchId/name-and-address"),exact:!0,component:d.default},{label:"Branch Users",url:"/".concat(e,"/branch-settings/").concat(j,"/branch-users"),path:"/".concat(e,"/branch-settings/:branchId/branch-users"),exact:!0,component:u.default}]))}),[a,j,e]),Object(s.useEffect)((function(){E&&j&&Object(c.a)(r.a.mark((function e(){var a,t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.fetchRequest)({url:"/lab_group/".concat(E,"/lab/").concat(j),method:"GET",isAuth:!0});case 2:if(!(a=e.sent)||200!==a.status){e.next=10;break}return e.next=6,a.json();case 6:return t=e.sent,n=t.data,x(n),e.abrupt("return",n);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})))()}),[E,j]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"cms-container"},i.a.createElement("div",{className:"cms-header "},"lab-admin"!==e?i.a.createElement(o.b,{className:"back-to ml-5",link:"true",to:"/".concat(e,"/lab-details/branch-details")},i.a.createElement("span",{className:"mr-2"},v.G),"BACK TO LAB DETAILS"):i.a.createElement(i.a.Fragment,null),i.a.createElement("h2",{className:"black-heading mb-3"},w&&w.name," Branch Setting"),i.a.createElement("div",{className:"d-flex action-wrapper"},i.a.createElement("ul",{className:"nav branch-setting-nav"},y.map((function(e,a){return!e.redirect&&i.a.createElement(f,{key:a,to:e.url},e.label)})))))),i.a.createElement("main",{role:"main",className:"cms-container"},i.a.createElement("div",{className:"cms-body"},i.a.createElement(g.a,{routes:y}))))}},201:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=function(e){var a=e.loading;return void 0!==a&&a&&r.a.createElement("div",{className:"loader-wrapper d-flex justify-content-center w-100"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}},365:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t.n(n),c=t(18),l=t(13),s=t(9),i=t(0),o=t.n(i),m=t(148),d=t(143),u=t(10),b=t(2),g=t(22),h=t(17),p=t(147);a.default=function(e){var a=localStorage.getItem("loginAs"),t=Object(i.useContext)(h.a).profile,n=Object(i.useState)(),v=Object(s.a)(n,2),f=v[0],E=v[1],_=Object(i.useState)({name:e.branchDetails&&e.branchDetails.name||"",address_line_one:e.branchDetails&&e.branchDetails.address_line_one||"",address_line_two:e.branchDetails&&e.branchDetails.address_line_two||"",pincode:e.branchDetails&&e.branchDetails.pincode||"",city:e.branchDetails&&e.branchDetails.city||"",state:e.branchDetails&&e.branchDetails.state||"",mobile:e.branchDetails&&e.branchDetails.mobile||"",email:e.branchDetails&&e.branchDetails.email||""}),j=Object(s.a)(_,2),O=j[0],N=j[1],w=Object(i.useState)({}),x=Object(s.a)(w,2),k=x[0],S=x[1],y=Object(i.useState)(!1),P=Object(s.a)(y,2),C=P[0],R=P[1],U=Object(i.useState)({show:!1,message:"",type:""}),D=Object(s.a)(U,2),B=D[0],I=D[1];Object(i.useEffect)((function(){t&&"lab-admin"===a?E(t.selectedRole.uuid):!t||"super-admin"!==a&&"assistant-admin"!==a||E(t.selectedLabId)}),[t,a]);var T=function(e,a){var t=Object(l.a)({},O);t[a]=e,N(Object(l.a)({},t))},A=function(){var n=Object(c.a)(r.a.mark((function n(){var c,s,i,o,m,d,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(R(!0),S({}),I({show:!1,message:"",type:""}),c=Object(l.a)(Object(l.a)({},O),{},{lab_name:O.name}),s=null,!(s=e.isEdit?"lab"===a?"/lab/".concat(t.selectedRole.uuid):"/lab_group/".concat(f,"/lab/").concat(e.branchDetails.uuid):"/lab_group/".concat(f,"/lab"))){n.next=28;break}return n.next=9,Object(g.fetchRequest)({url:s,method:e.isEdit?"PUT":"POST",isAuth:!0,body:c});case 9:if((i=n.sent)&&R(!1),!i||200!==i.status){n.next=22;break}return n.next=14,i.json();case 14:return o=n.sent,m=o.data,d=o.message,I({show:!0,message:d,type:"success"}),setTimeout((function(){e.setIsEditable?e.setIsEditable(!1):e.history.goBack(),e.onSuccessCallback&&e.onSuccessCallback()}),2e3),n.abrupt("return",m);case 22:if(!i||422!==i.status){n.next=28;break}return n.next=25,i.json();case 25:u=n.sent,S(Object(l.a)({},u.errors)),422!==i.status&&!Object.keys(u.error?u.error:{}).length&&u.message&&I({show:!0,message:u.message,type:"error"});case 28:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),F=O.name,L=void 0===F?"":F,q=O.address_line_one,H=O.address_line_two,G=O.pincode,J=O.city,M=O.state,Q=O.mobile,z=O.email;return o.a.createElement("div",{className:"add-branch-wrapper"},o.a.createElement(p.a,B),o.a.createElement(m.a,{cardName:"add-branch-card"},o.a.createElement("form",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-5 mb-3"},o.a.createElement(d.a,{value:L||"",onChange:function(e){return T(e.target.value,"name")},error:k&&k.lab_name,placeholder:"Branch Name*"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-6 mb-3"},o.a.createElement(d.a,{value:q||"",onChange:function(e){return T(e.target.value,"address_line_one")},error:k&&k.address_line_one,placeholder:"Address Line 1*"})),o.a.createElement("div",{className:"form-group col-6 mb-3"},o.a.createElement(d.a,{value:H||"",onChange:function(e){return T(e.target.value,"address_line_two")},error:k&&k.address_line_two,placeholder:"Address Line 2*"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-4 mb-3"},o.a.createElement(d.a,{value:G||"",onChange:function(e){return T(e.target.value,"pincode")},error:k&&k.pincode,placeholder:"Pincode*"})),o.a.createElement("div",{className:"form-group col-4 mb-3"},o.a.createElement(d.a,{value:J||"",onChange:function(e){return T(e.target.value,"city")},error:k&&k.city,placeholder:"City*"})),o.a.createElement("div",{className:"form-group col-4 mb-3"},o.a.createElement(d.a,{value:M||"",onChange:function(e){return T(e.target.value,"state")},error:k&&k.state,placeholder:"State*"}))),o.a.createElement("div",{className:"row"}," ",o.a.createElement("div",{className:"form-group col-4 mb-3"},o.a.createElement(d.a,{value:Q||"",onChange:function(e){return T(e.target.value,"mobile")},error:k&&k.mobile,placeholder:"Mobile No*"})),o.a.createElement("div",{className:"form-group col-4 mb-3"},o.a.createElement(d.a,{value:z||"",onChange:function(e){return T(e.target.value,"email")},error:k&&k.email,placeholder:"Email*"}))))),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(u.OutlinedButton,{onClick:function(){return e.setIsEditable&&e.setIsEditable(!1)||e&&e.history&&e.history.goBack()},disabled:C},o.a.createElement("div",{className:"d-flex align-items-center"},b.H,o.a.createElement("p",{className:"ml-1"},"Go Back"))),o.a.createElement(u.ContainedButton,{darkBlue:!0,className:"ml-3",onClick:A,loading:C,disabled:C},"Save")))}},611:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t.n(n),c=t(18),l=t(9),s=t(0),i=t.n(s),o=t(4),m=t(22),d=t(17),u=t(148),b=t(10),g=t(365),h=t(201);a.default=function(){var e,a=localStorage.getItem("loginAs"),t=Object(s.useContext)(d.a).profile,n=Object(s.useState)(),p=Object(l.a)(n,2),v=p[0],f=p[1],E=Object(o.i)().branchId,_=Object(s.useState)(null),j=Object(l.a)(_,2),O=j[0],N=j[1],w=Object(s.useState)(!1),x=Object(l.a)(w,2),k=x[0],S=x[1],y=Object(s.useState)(!1),P=Object(l.a)(y,2),C=P[0],R=P[1];Object(s.useEffect)((function(){t&&"lab-admin"===a?f(t.selectedRole.uuid):!t||"super-admin"!==a&&"assistant-admin"!==a||f(t.selectedLabId)}),[t,a]);var U=Object(s.useCallback)(Object(c.a)(r.a.mark((function e(){var n,c,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),n="/lab_group/".concat(v,"/lab/").concat(E),"lab"===a&&(n="/lab/".concat(t.selectedRole.uuid)),e.next=5,Object(m.fetchRequest)({url:n,method:"GET",isAuth:!0});case 5:if(!(c=e.sent)||200!==c.status){e.next=14;break}return R(!1),e.next=10,c.json();case 10:return l=e.sent,s=l.data,N(s),e.abrupt("return",s);case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)}))),[v,E,t.selectedRole.uuid,a]);return Object(s.useEffect)((function(){("lab-admin"===a||"super-admin"===a||"assistant-admin"===a)&&v&&E&&U()}),[v,E,a,U]),Object(s.useEffect)((function(){"lab"===a&&t.selectedRole.uuid&&U()}),[t.selectedRole.uuid,a,U]),i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{loading:C}),!C&&i.a.createElement("div",{className:"d-flex flex-wrap branch-details-wrapper w-100"},"lab_technician"===t.selectedRole.role.actual_role?i.a.createElement("div",{className:"w-100 d-flex justify-content-center"},"Details not available"):k?i.a.createElement(g.default,{branchDetails:O,isEdit:!0,setIsEditable:S,goBackUrl:"/lab-admin/setting/branch-settings/".concat(E,"/name-and-address"),onSuccessCallback:U}):O?i.a.createElement("div",{className:"branch-details-card"},i.a.createElement(u.a,{title:O.name||"-"},i.a.createElement("address",{className:"mt-2 mb-0"},"".concat(O.address_line_one||"-",", ").concat(O.address_line_two||"",", "),i.a.createElement("br",null),"".concat(O.city||"-",", ").concat(O.state||"-",", ").concat(O.pincode||"-")),i.a.createElement("div",{className:"phone-no mb-2"},"Phone Number: ",O.mobile||"-"),("lab-admin"===a||"lab_manager"===(null===t||void 0===t||null===(e=t.selectedRole)||void 0===e?void 0:e.role.actual_role))&&i.a.createElement("div",{className:"d-flex align-items-center fixed-bottom"},i.a.createElement(b.TextButton,{className:"link-btn semi-bold blue-text",onClick:function(){return S(!0)}},"Edit Name & Address")))):i.a.createElement(i.a.Fragment,null)))}},789:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t.n(n),c=t(18),l=t(13),s=t(9),i=t(0),o=t.n(i),m=t(148),d=t(32),u=t(10),b=t(152),g=t(2);var h=function(e){var a,t,n=e.label,r=e.className,c=void 0===r?"":r,l=e.showCancelBtn,m=e.showRemoveBtn,d=e.showSaveChangeBtn,h=e.imageObj,p=e.onChange,v=e.handleSubmit,f=e.checkboxObj,E=e.error,_=e.deleteImage,j=e.imgClass,O=e.emptyText,N=Object(i.useRef)(null),w=Object(i.useState)({}),x=Object(s.a)(w,2),k=x[0],S=x[1],y=Object(i.useState)(!1),P=Object(s.a)(y,2),C=P[0],R=P[1],U=Object(i.useState)(!1),D=Object(s.a)(U,2),B=D[0],I=D[1],T=Object(i.useState)(!1),A=Object(s.a)(T,2),F=A[0],L=A[1];Object(i.useEffect)((function(){k&&p(k)}),[k]);var q=Object(i.useCallback)((function(e){e.preventDefault(),L(!1);var a=N.current.files,t=new FileReader,n=a[0];n&&(t.onloadend=function(){S({file:n,imagePreviewUrl:t.result})},t.readAsDataURL(n))}),[N]),H=Object(i.useCallback)((function(){S({file:"",imagePreviewUrl:{value:null}}),_&&_(),L(!0)}),[]),G=Object(i.useMemo)((function(){return B?C:null===f||void 0===f?void 0:f.checked}),[B,C,f]);return o.a.createElement("div",{className:"upload-img ".concat(c)},n&&o.a.createElement("label",{className:"label"},n),o.a.createElement("div",{className:"img-wrapper d-block mb-3 w-100"},((null===k||void 0===k?void 0:k.imagePreviewUrl)?k.imagePreviewUrl:null===h||void 0===h?void 0:h.imgPath)?o.a.createElement("img",{className:j,src:(null===k||void 0===k?void 0:k.imagePreviewUrl)?k.imagePreviewUrl:(null===h||void 0===h?void 0:h.imgPath)?h.imgPath:"",alt:""}):o.a.createElement("div",{className:"empty-image-div"},O)),E?o.a.createElement("p",{className:"assistive-text error-text"},E):o.a.createElement("p",{className:"assistive-text"}),o.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},l||m&&((null===k||void 0===k||null===(a=k.imagePreviewUrl)||void 0===a?void 0:a.value)||(null===h||void 0===h?void 0:h.imgPath))&&o.a.createElement(u.OutlinedButton,{red:!0,className:"mr-2",onClick:H},m?"Remove":"Cancel"),o.a.createElement("label",{className:"btn btn-outline blue-outline d-block mt-2"},(null===k||void 0===k||null===(t=k.imagePreviewUrl)||void 0===t?void 0:t.value)||(null===h||void 0===h?void 0:h.imgPath)?"Change":o.a.createElement(o.a.Fragment,null,g.h," Select a file"),o.a.createElement("input",{type:"file",size:"",accept:".png,.jpeg,.jpg",ref:N,style:{display:"none"},onChange:q}))),f&&f.show&&o.a.createElement(b.a,{name:"registerWithSameDetails",label:f.label,checked:G,value:f.key,blue:!0,onClick:function(){return R(!G)||I(!0)}}),d&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"divider my-2 mx-5"}),o.a.createElement("div",{className:"d-flex align-items-center justify-content-center "},o.a.createElement(u.ContainedButton,{lightBlue:!0,color:"primary",withIcon:!0,onClick:function(){return v({image:k,checked:C,remove:F})}},"Save Changes"))))},p=t(143),v=t(22),f=t(17),E=t(147),_=t(4),j=t(201),O={letterhead_type:"default",logo:{imagePreviewUrl:d.i},letterhead:{},footer:{},print_letterhead:!1,techniciansSign:{technician_name:"",technician_degree:"",print_technician_sign:!1},doctorsSign:{doctor_name:"",doctor_degree:"",print_doctor_sign:!1}};a.default=function(){var e=localStorage.getItem("loginAs"),a=Object(i.useContext)(f.a).profile,t=Object(_.i)().branchId,n=Object(i.useState)(Object(l.a)({},O)),d=Object(s.a)(n,2),u=d[0],b=d[1],g=Object(i.useState)({}),N=Object(s.a)(g,2),w=N[0],x=N[1],k=Object(i.useState)({show:!1,message:"",type:""}),S=Object(s.a)(k,2),y=S[0],P=S[1],C=Object(i.useState)(!0),R=Object(s.a)(C,2),U=R[0],D=R[1],B=Object(i.useCallback)((function(){var n=null;a&&"lab"===e?n="/lab/".concat(a.selectedRole.uuid):"lab-admin"===e&&t&&(n="/lab_group/".concat(a.selectedRole.uuid,"/lab/").concat(t)),n&&Object(c.a)(r.a.mark((function e(){var a,t,c,s,i,o,m,d,g,h,p,f,E,_,j,O,N;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,Object(v.fetchRequest)({url:n,method:"GET",isAuth:!0});case 3:if((a=e.sent)&&D(!1),!a||200!==a.status){e.next=13;break}return e.next=8,a.json();case 8:return t=e.sent,c=t.data,s=c.technician_name,i=c.technician_degree,o=c.print_technician_sign,m=c.technician_sign,d=c.doctor_name,g=c.doctor_degree,h=c.doctor_sign,p=c.print_doctor_sign,f=c.logo,E=c.footer,_=c.print_letterhead,j=c.letterhead,O=c.letterhead_type,N=c.email,b(Object(l.a)(Object(l.a)(Object(l.a)({},u),c),{},{logo:{imgPath:f},footer:{imgPath:E},letterhead:{imgPath:j},print_letterhead:!_,letterhead_type:O,techniciansSign:{technician_name:s,technician_degree:i,print_technician_sign:!o,imgPath:m},doctorsSign:{imgPath:h,doctor_name:d,doctor_degree:g,print_doctor_sign:!p},email:N})),e.abrupt("return",c);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e)})))()}),[a,e,t]);Object(i.useEffect)((function(){B()}),[B]);var I=function(e,a){var t=Object(l.a)({},u);t[a]=Object(l.a)(Object(l.a)({},t[a]),e),b(Object(l.a)({},t))},T=function(n){var s=n.image,i=n.checked,o=n.remove;x({}),P({show:!1,message:"",type:""});var m=new FormData;m.append("letterhead_type",A),"default"===A?(o&&m.append("delete_logo",!0),m.append("logo",s.file?s.file:"")):"custom"===A&&(o&&m.append("delete_footer",!0),m.append("letterhead",F.file?F.file:""),m.append("footer",L.file?L.file:""),m.append("print_letterhead",!i)),Object(c.a)(r.a.mark((function n(){var c,s,i,o,d,g,h,p,f,E;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=null,a&&"lab"===e?c="/lab/".concat(a.selectedRole.uuid,"/report_setup_letterhead"):"lab-admin"===e&&(c="/lab/".concat(t,"/report_setup_letterhead")),n.next=4,Object(v.fetchRequest)({url:c,method:"POST",body:m,isAuth:!0,isFormData:!0});case 4:if(!(s=n.sent)||200!==s.status){n.next=16;break}return n.next=8,s.json();case 8:i=n.sent,o=i.data,(d=i.message)&&P({show:!0,message:d,type:"success"}),g=o.logo,h=o.footer,p=o.print_letterhead,f=o.letterhead,b(Object(l.a)(Object(l.a)({},u),{},{logo:{imgPath:g},footer:{imgPath:h},letterhead:{imgPath:f},print_letterhead:!p})),n.next=21;break;case 16:return n.next=18,s.json();case 18:E=n.sent,x(Object(l.a)(Object(l.a)({},w),E.errors)),422!==s.status&&!Object.keys(E.error?E.error:{}).length&&E.message&&P({show:!0,message:E.message,type:"error"});case 21:return n.abrupt("return");case 22:case"end":return n.stop()}}),n)})))()},A=u.letterhead_type,F=u.letterhead,L=u.footer,q=u.logo,H=u.techniciansSign,G=u.doctorsSign,J=u.print_letterhead,M=u.formatted_lab_name,Q=u.address_line_one,z=u.address_line_two,K=u.city,W=u.state,V=u.pincode,X=u.mobile,Y=u.email;return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{loading:U}),!U&&o.a.createElement("div",{className:"report-container w-100"},o.a.createElement(E.a,y),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 mr-auto"},o.a.createElement(m.a,{className:"report-main"},"custom"===A?o.a.createElement("div",{className:"report-header-custom"},(F.imagePreviewUrl?F.imagePreviewUrl:F.imgPath)?o.a.createElement("img",{src:F.imagePreviewUrl?F.imagePreviewUrl:F.imgPath,alt:"Header Banner"}):o.a.createElement("div",{className:"empty-header"})):"default"===A?o.a.createElement("div",{className:"d-flex justify-content-between report-header"},(q.imagePreviewUrl?q.imagePreviewUrl:q.imgPath)?o.a.createElement("img",{src:q.imagePreviewUrl?q.imagePreviewUrl:q.imgPath,className:"report-logo",alt:"Logo"}):o.a.createElement("div",{className:"report-logo"}),o.a.createElement("div",{className:"lab-details"},o.a.createElement("div",{className:"name"},o.a.createElement("p",null,M||"-")),o.a.createElement("div",{className:"address"},o.a.createElement("address",null,Q?"".concat(Q,", "):"",o.a.createElement("br",null)," ",z?"".concat(z,","):""," ",o.a.createElement("br",null),K||W||V?"".concat(K,", ").concat(W,", ").concat(V):"")),o.a.createElement("div",{className:"other-details"},o.a.createElement("p",null,X||"-"," | ",Y||"-")))):null,o.a.createElement("div",{className:"report-content"},o.a.createElement("div",{className:"watermark"},"REPORT")),o.a.createElement("div",{className:"signature"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",{className:"sign-1"},H.imagePreviewUrl||H.imgPath?o.a.createElement("img",{src:H.imagePreviewUrl?H.imagePreviewUrl:H.imgPath,className:"signature-img",alt:"Signature"}):o.a.createElement("div",{className:"signature-img"}),o.a.createElement("p",{className:"name"},H.technician_name?H.technician_name:""),o.a.createElement("p",{className:"qualification"},H.technician_degree?H.technician_degree:"")),o.a.createElement("div",{className:"sign-2"},G.imagePreviewUrl||G.imgPath?o.a.createElement("img",{src:G.imagePreviewUrl?G.imagePreviewUrl:G.imgPath,className:"signature-img",alt:"Signature"}):o.a.createElement("div",{className:"signature-img"}),o.a.createElement("p",{className:"name"},G.doctor_name?G.doctor_name:""),o.a.createElement("p",{className:"qualification"},G.doctor_degree?G.doctor_degree:"")))),o.a.createElement("div",{className:"report-footer"},"custom"===A&&L&&(L.imagePreviewUrl||L.imgPath)?o.a.createElement("img",{src:L.imagePreviewUrl?L.imagePreviewUrl:L.imgPath,className:"report-footer-image",alt:"Footer Logo"}):o.a.createElement("div",{className:"d-flex note"})))),o.a.createElement("div",{className:"col-md-5"},o.a.createElement(m.a,{title:"Report Letterhead"},o.a.createElement("div",{className:"report-letter-head"},o.a.createElement("div",{className:"d-flex align-items-center ml-3"},o.a.createElement("input",{type:"radio",id:"default",name:"letterhead",checked:"default"===A,value:A,onChange:function(){return b(Object(l.a)(Object(l.a)({},u),{},{letterhead_type:"default"}))}}),o.a.createElement("p",{className:"pl-2 report-letter-head-checkbox"},"Use Sugarlogger default letter head & footer")),o.a.createElement("div",{className:"d-flex align-items-center ml-3"},o.a.createElement("input",{type:"radio",id:"custom",name:"letterhead",checked:"custom"===A,value:A,onChange:function(){return b(Object(l.a)(Object(l.a)({},u),{},{letterhead_type:"custom"}))}}),o.a.createElement("p",{className:"pl-2 report-letter-head-checkbox"},"Use custom letter head & footer")),"default"===A&&o.a.createElement(h,{label:"Upload a logo image :",imageObj:q,onChange:function(e){return I(e,"logo")},showRemoveBtn:!0,showSaveChangeBtn:!0,handleSubmit:T,error:w&&w.logo,imgClass:"h-auto",emptyText:"Logo"}),"custom"===A&&o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{label:"Letter Head :",imageObj:F,onChange:function(e){return I(e,"letterhead")},error:w&&w.letterhead,emptyText:"Letter Head"}),o.a.createElement(h,{label:"Footer (Optional):",showRemoveBtn:!0,showSaveChangeBtn:!0,imageObj:L,onChange:function(e){return I(e,"footer")},handleSubmit:T,deleteImage:function(){return I(!0,"delete_footer")},checkboxObj:{show:!0,label:"Hide Letterhead and footer on Print",key:"print_letterhead",checked:J},error:w&&w.footer,emptyText:"Footer"})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 sign-carts"},o.a.createElement(m.a,{title:"Technician\u2019s Name & Signature"},o.a.createElement("div",{className:"form-group mb-3"},o.a.createElement(p.a,{value:H.technician_name||"",onChange:function(e){return I({technician_name:e.target.value},"techniciansSign")},error:w&&w.technician_name,placeholder:"Full Name"})),o.a.createElement("div",{className:"form-group mb-3"},o.a.createElement(p.a,{value:H.technician_degree||"",onChange:function(e){return I({technician_degree:e.target.value},"techniciansSign")},error:w&&w.technician_degree,placeholder:"Qualification"})),o.a.createElement(h,{showRemoveBtn:!0,showSaveChangeBtn:!0,imageObj:H,onChange:function(e){return I(Object(l.a)(Object(l.a)({},e),{},{techniciansSign:H}),"techniciansSign")},checkboxObj:{show:!0,label:"Hide Signature on Print",key:"print_technician_sign",checked:H.print_technician_sign},handleSubmit:function(n){var s=n.image,i=n.checked,o=n.remove;x({}),P({show:!1,message:"",type:""});var m=new FormData;m.append("technician_name",H.technician_name||""),m.append("technician_degree",H.technician_degree||""),o&&m.append("delete_sign",!0),m.append("technician_sign",s.file?s.file:""),m.append("print_technician_sign",!i),Object(c.a)(r.a.mark((function n(){var c,s,i,o,d,g,h,p,f,E;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=null,a&&"lab"===e?c="/lab/".concat(a.selectedRole.uuid,"/report_setup_technician"):"lab-admin"===e&&(c="/lab/".concat(t,"/report_setup_technician")),n.next=4,Object(v.fetchRequest)({url:c,method:"POST",body:m,isAuth:!0,isFormData:!0});case 4:if(!(s=n.sent)||200!==s.status){n.next=16;break}return n.next=8,s.json();case 8:i=n.sent,o=i.data,(d=i.message)&&P({show:!0,message:d,type:"success"}),g=o.technician_name,h=o.technician_degree,p=o.print_technician_sign,f=o.technician_sign,b(Object(l.a)(Object(l.a)({},u),{},{techniciansSign:{technician_name:g,technician_degree:h,print_technician_sign:p,imgPath:f}})),n.next=21;break;case 16:return n.next=18,s.json();case 18:E=n.sent,x(Object(l.a)(Object(l.a)({},w),E.errors)),422!==s.status&&!Object.keys(E.error?E.error:{}).length&&E.message&&P({show:!0,message:E.message,type:"error"});case 21:return n.abrupt("return");case 22:case"end":return n.stop()}}),n)})))()},error:w&&w.technician_sign,emptyText:"Technician\u2019s Sign",name:"tech"}))),o.a.createElement("div",{className:"col-md-4 sign-carts"},o.a.createElement(m.a,{title:"Doctor\u2019s Name & Signature*"},o.a.createElement("div",{className:"form-group mb-3"},o.a.createElement(p.a,{value:G.doctor_name||"",onChange:function(e){return I({doctor_name:e.target.value},"doctorsSign")},error:w&&w.doctor_name,placeholder:"Full Name*"})),o.a.createElement("div",{className:"form-group mb-3"},o.a.createElement(p.a,{value:G.doctor_degree||"",onChange:function(e){return I({doctor_degree:e.target.value},"doctorsSign")},error:w&&w.doctor_degree,placeholder:"Qualification*"})),o.a.createElement(h,{showSaveChangeBtn:!0,imageObj:G,onChange:function(e){return I(Object(l.a)(Object(l.a)({},e),{},{doctorsSign:G}),"doctorsSign")},checkboxObj:{show:!0,label:"Hide Signature on Print",key:"print_doctor_sign",checked:G.print_doctor_sign},handleSubmit:function(n){var s=n.image,i=n.checked;x({}),P({show:!1,message:"",type:""});var o=new FormData;o.append("doctor_name",G.doctor_name||""),o.append("doctor_degree",G.doctor_degree||""),o.append("doctor_sign",s.file?s.file:""),o.append("print_doctor_sign",!i),Object(c.a)(r.a.mark((function n(){var c,s,i,m,d,g,h,p,f,E;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=null,a&&"lab"===e?c="/lab/".concat(a.selectedRole.uuid,"/report_setup_doctor"):"lab-admin"===e&&(c="/lab/".concat(t,"/report_setup_doctor")),n.next=4,Object(v.fetchRequest)({url:c,method:"POST",body:o,isAuth:!0,isFormData:!0});case 4:if(!(s=n.sent)||200!==s.status){n.next=16;break}return n.next=8,s.json();case 8:i=n.sent,m=i.data,(d=i.message)&&P({show:!0,message:d,type:"success"}),g=m.doctor_name,h=m.doctor_degree,p=m.doctor_sign,f=m.print_doctor_sign,b(Object(l.a)(Object(l.a)({},u),{},{doctorsSign:{imgPath:p,doctor_name:g,doctor_degree:h,print_doctor_sign:f}})),n.next=21;break;case 16:return n.next=18,s.json();case 18:E=n.sent,x(Object(l.a)(Object(l.a)({},w),E.errors)),422!==s.status&&!Object.keys(E.error?E.error:{}).length&&E.message&&P({show:!0,message:E.message,type:"error"});case 21:return n.abrupt("return");case 22:case"end":return n.stop()}}),n)})))()},error:w&&w.doctor_sign,emptyText:"Doctor's Sign"}))))))}}}]);
//# sourceMappingURL=21.6f0e7d8d.chunk.js.map
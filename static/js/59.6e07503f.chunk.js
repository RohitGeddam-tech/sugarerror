(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[59],{143:function(e,t,a){"use strict";var n=a(9),r=a(0),s=a.n(r),c=a(2);t.a=function(e){var t=e.type,a=e.placeholder,o=e.value,l=e.name,i=e.onChange,u=e.onBlur,m=e.error,d=e.disabled,p=void 0!==d&&d,b=e.icon,f=e.className,g=void 0===f?"":f,E=e.hasGrayBack,O=void 0!==E&&E,v=e.showPass,h=e.maxLength,N=e.ref,j=Object(r.useState)(!1),k=Object(n.a)(j,2),w=k[0],y=k[1],x=m?"has-error":"";g+=" form-control ";var S=Object(r.useRef)(null);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"input-group text-input ".concat(x," ").concat(O?"background-gray":"")},s.a.createElement("input",{type:(v?w?"text":"password":t)||"text",className:g,name:l,value:o,onChange:i,autoComplete:"off",ref:N||S,disabled:p,onBlur:u,maxLength:h}),s.a.createElement("label",{className:"input-placeholder"},a),b?s.a.createElement("span",{className:"input-icon"},b):s.a.createElement(s.a.Fragment,null),v?s.a.createElement("span",{className:"input-icon cursor-pointer",onClick:function(){return y(!w)}},w?c.ab:c.bb):s.a.createElement(s.a.Fragment,null),m?s.a.createElement("p",{className:"assistive-text error-text"},m):s.a.createElement("p",{className:"assistive-text"})))}},147:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(158);a(157);t.a=function(e){var t=e.message,a=e.type,c=e.callback,o=Object(n.useCallback)((function(e){switch(e){case"success":s.b.success(t,{position:s.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){c&&c()}),1500);break;case"error":s.b.error(t,{position:s.b.POSITION.BOTTOM_RIGHT});break;case"info":s.b.info(t,{position:s.b.POSITION.BOTTOM_RIGHT});break;case"warn":s.b.warn(t,{position:s.b.POSITION.BOTTOM_RIGHT})}}),[c,t]);return Object(n.useEffect)((function(){t&&a&&o(a)}),[t,o,a]),r.a.createElement("div",null,r.a.createElement(s.a,null))}},1527:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),s=a(13),c=a(18),o=a(9),l=a(0),i=a.n(l),u=a(182),m=a(143),d=a(10),p=a(3),b=a(22),f=a(2),g=a(414),E=a(147),O=a(19);t.default=function(e){var t=Object(l.useState)(""),a=Object(o.a)(t,2),n=a[0],v=a[1],h=Object(l.useState)(""),N=Object(o.a)(h,2),j=N[0],k=N[1],w=Object(l.useState)(),y=Object(o.a)(w,2),x=y[0],S=y[1],T=Object(l.useState)(null),C=Object(o.a)(T,2),I=C[0],_=C[1],M=Object(l.useState)(!1),P=Object(o.a)(M,2),B=P[0],R=P[1],F=Object(l.useState)({isModalOpen:!1,api:""}),G=Object(o.a)(F,2),L=G[0],H=G[1],D=Object(l.useState)({show:!1,message:"",type:""}),q=Object(o.a)(D,2),A=q[0],J=q[1];Object(l.useEffect)((function(){window.scrollTo(0,0)}),[]);var Y=function(){var t=Object(c.a)(r.a.mark((function t(a){var o,l,i,u,m,d,p,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),R(!0),_(null),t.next=5,Object(b.makeRequest)({url:"/login",method:"POST",body:{username:n||"",password:j||""}});case 5:o=t.sent,l=o.data,i=o.status,u=o.errors,m=o.message,R(!1),200===i?(d=l.token_type,p=l.access_token,f=l.refresh_token,localStorage.setItem("token","".concat(d," ").concat(p)),localStorage.setItem("refresh_token","".concat(f)),Object(c.a)(r.a.mark((function t(){var a,n,c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.makeRequest)({url:"/user_profile?include=roles,lab_access",method:"GET",isAuth:!0});case 2:return a=t.sent,n=a.data,200===a.status&&(c=n.roles,o=[],c&&c.length&&(o=Object(O.d)(Object(s.a)({},n))),o&&1===o.length?(localStorage.setItem("loginAs",o[0].role.name.split("_").join("-")),localStorage.setItem("selectedRole",JSON.stringify(o[0])),e.history.push("/".concat(o[0].role.name.split("_").join("-")))):e.history.push({pathname:"/login-as",state:{roles:c}})),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})))()):422===i?(R(!1),S(u)):400===i&&(R(!1),m&&_(m));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(u.a,{sectionClass:"sign-in"},i.a.createElement(E.a,A),i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"content-wrapper"},i.a.createElement("span",{className:"black-heading"},"Sign in to your account"),i.a.createElement("form",{onSubmit:Y,className:"sign-in-form mt-4 text-center"},I&&i.a.createElement("div",{className:"err-msg mb-3"},f.j,i.a.createElement("p",null,I)),i.a.createElement("div",{className:"form-group mb-3"},i.a.createElement(m.a,{placeholder:"Mobile No. / Email ID",value:n,onChange:function(e){return v(e.target.value)},error:x&&x.username})),i.a.createElement("div",{className:"form-group mb-4"},i.a.createElement(m.a,{placeholder:"Password",value:j,type:"password",onChange:function(e){return k(e.target.value)},error:x&&x.password,showPass:!0})),i.a.createElement("div",{className:"d-flex justify-content-between px-1 mb-4"},i.a.createElement("div",{className:"d-flex"}),i.a.createElement("div",null,i.a.createElement(p.b,{className:"forget-pass mt-1",to:"#",onClick:function(){return H({isModalOpen:!0,setErrors:S,setNotification:J})}},"Forgot password?"))),i.a.createElement("div",{className:"form-group mb-4"},i.a.createElement(d.ContainedButton,{type:"submit",red:!0,className:"login-btn",disabled:B},B?i.a.createElement("div",{className:"spinner-border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")):i.a.createElement("span",null,"Login"))),i.a.createElement("p",null,"Don\u2019t have an account? Register"," ",i.a.createElement(p.c,{to:"/packages",className:"red-text text-underline"},i.a.createElement("u",null,"here"))," ","for free")))),i.a.createElement(g.a,{actionObject:L}))}},182:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(20),s=function(e){var t=e.children,a=e.sectionClass;return n.createElement("section",{className:"section-wrapper ".concat(a,"-section")},n.createElement(r.a,null,n.createElement("div",{className:"row section-content-wrapper"},t)))}},223:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(2);t.a=function(e){var t=e.className,a=e.name,n=e.label,c=e.value,o=e.checked,l=void 0!==o&&o,i=e.onClick;return e.blue,e.red,r.a.createElement("div",{className:"d-flex radio-button ".concat(t)},r.a.createElement("input",{type:"radio",name:a,value:c,checked:l,onChange:i}),r.a.createElement("div",{className:"mr-2 radio-checked",onClick:i},l?s.p:s.Q),r.a.createElement("label",{dangerouslySetInnerHTML:{__html:n}}))}},414:function(e,t,a){"use strict";var n=a(14),r=a.n(n),s=a(13),c=a(18),o=a(9),l=a(0),i=a.n(l),u=a(28),m=a(143),d=a(10),p=a(22),b=a(223),f=a(17),g={isModalOpen:!1};t.a=function(e){var t=e.actionObject,a=void 0===t?g:t,n=a.isModalOpen,E=a.setErrors,O=a.setNotification,v=Object(l.useContext)(f.a),h=Object(l.useState)(n),N=Object(o.a)(h,2),j=N[0],k=N[1],w=Object(l.useState)("mobile"),y=Object(o.a)(w,2),x=y[0],S=y[1],T=Object(l.useState)(""),C=Object(o.a)(T,2),I=C[0],_=C[1],M=Object(l.useState)(!1),P=Object(o.a)(M,2),B=P[0],R=P[1];Object(l.useEffect)((function(){k(n)}),[a,n]);var F=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E({}),R(!0),O({show:!1,message:"",type:""}),t.preventDefault(),e.next=6,Object(p.fetchRequest)({url:v?"/user_profile/forgot_password":"/forgot_password",method:v?"PUT":"POST",isAuth:!!v,body:v?{send_to:x}:{mobile:I}});case 6:if((a=e.sent)&&R(!1),!a||200!==a.status){e.next=15;break}return e.next=11,a.json();case 11:(n=e.sent).success&&(k(!1),n.message&&O({show:!0,message:n.message,type:"success"})),e.next=20;break;case 15:return e.next=17,a.json();case 17:c=e.sent,E(Object(s.a)({},c.errors)),422!==a.status&&!Object.keys(c.error?c.error:{}).length&&c.message&&O({show:!0,message:c.message,type:"error"});case 20:return e.abrupt("return");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=(v&&v.profile?v.profile:{}).mobile;return i.a.createElement(u.a,{className:"my-profile-modal",modalIsOpen:j,closeModal:k},i.a.createElement(u.d,{className:"text-center"},i.a.createElement("h6",{className:"black-heading"},v?"Reset Current Password":"Forgot Password")),i.a.createElement(u.b,{className:"mb-2"},v?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"modal-msg"},"You will receive a link to reset your current password. Where would you like to receive that link?"),i.a.createElement("form",{className:"book-demo-form pl-2 pr-4"},i.a.createElement("div",{className:"d-flex my-3"},i.a.createElement("div",null,i.a.createElement(b.a,{className:"mr-5",label:"On Mobile No.",checked:"mobile"===x,onClick:function(){return S("mobile")}}),i.a.createElement("span",{className:"modal-info"},G))))):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"modal-msg"},"You will receive a link to reset your password. Please enter your mobile no."),i.a.createElement("form",{className:"book-demo-form pl-2 pr-4"},i.a.createElement("div",{className:"d-flex my-3"},i.a.createElement("div",{className:"form-group mb-3 w-75"},i.a.createElement(m.a,{placeholder:"Mobile No.",value:I||"",onChange:function(e){return _(e.target.value)}})))))),i.a.createElement(u.c,{className:v?"justify-content-center":"justify-content-end"},i.a.createElement(d.OutlinedButton,{className:"close-modal-btn",onClick:function(){return k(!1)},disabled:B},"Cancel"),i.a.createElement(d.ContainedButton,{onClick:F,lightBlue:!!v,red:!v,disabled:B,loading:B},"Send Link")))}}}]);
//# sourceMappingURL=59.6e07503f.chunk.js.map
(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[37],{143:function(e,a,t){"use strict";var r=t(9),n=t(0),c=t.n(n),l=t(2);a.a=function(e){var a=e.type,t=e.placeholder,s=e.value,o=e.name,u=e.onChange,i=e.onBlur,m=e.error,d=e.disabled,b=void 0!==d&&d,v=e.icon,p=e.className,f=void 0===p?"":p,g=e.hasGrayBack,h=void 0!==g&&g,E=e.showPass,O=e.maxLength,j=e.ref,N=Object(n.useState)(!1),y=Object(r.a)(N,2),_=y[0],w=y[1],x=m?"has-error":"";f+=" form-control ";var C=Object(n.useRef)(null);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"input-group text-input ".concat(x," ").concat(h?"background-gray":"")},c.a.createElement("input",{type:(E?_?"text":"password":a)||"text",className:f,name:o,value:s,onChange:u,autoComplete:"off",ref:j||C,disabled:b,onBlur:i,maxLength:O}),c.a.createElement("label",{className:"input-placeholder"},t),v?c.a.createElement("span",{className:"input-icon"},v):c.a.createElement(c.a.Fragment,null),E?c.a.createElement("span",{className:"input-icon cursor-pointer",onClick:function(){return w(!_)}},_?l.ab:l.bb):c.a.createElement(c.a.Fragment,null),m?c.a.createElement("p",{className:"assistive-text error-text"},m):c.a.createElement("p",{className:"assistive-text"})))}},144:function(e,a,t){"use strict";var r=t(0),n=t.n(r),c=t(156);a.a=function(e){var a=e.className,t=void 0===a?"":a,l=e.options,s=void 0===l?[]:l,o=e.value,u=e.onChange,i=e.placeholder,m=e.error,d=e.hasGrayBack,b=void 0!==d&&d,v=e.isMulti,p=void 0!==v&&v,f=(e.hideSelectedOptions,e.isClearable),g=void 0===f||f,h=e.disabled,E=e.isLoading,O=e.hidePlaceholder,j=e.defaultValue,N=e.isSearchable,y=void 0!==N&&N,_="input-group select-control-input ".concat(m?"has-error":""," ").concat(b?"background-gray":""," ").concat(o&&o.value?"has-value":""," ").concat(O?"hide-placeholder":""," ").concat(h?"cursor-notAllowed":"");t+=" select-input ";var w=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:_,ref:w},n.a.createElement(c.a,{value:o,onChange:u,options:s,className:t,classNamePrefix:"select-input",placeholder:n.a.createElement("div",null,""),onFocus:function(){return w.current.classList.add("select-focused")},onBlur:function(){return w.current.classList.remove("select-focused")},isClearable:g,isMulti:p,removeSelected:!1,defaultValue:j,isDisabled:h,isLoading:E,isSearchable:y}),n.a.createElement("label",{className:"select-placeholder"},i)),m?n.a.createElement("p",{className:"assistive-text error-text"},m):n.a.createElement("p",{className:"assistive-text"}))}},147:function(e,a,t){"use strict";var r=t(0),n=t.n(r),c=t(158);t(157);a.a=function(e){var a=e.message,t=e.type,l=e.callback,s=Object(r.useCallback)((function(e){switch(e){case"success":c.b.success(a,{position:c.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){l&&l()}),1500);break;case"error":c.b.error(a,{position:c.b.POSITION.BOTTOM_RIGHT});break;case"info":c.b.info(a,{position:c.b.POSITION.BOTTOM_RIGHT});break;case"warn":c.b.warn(a,{position:c.b.POSITION.BOTTOM_RIGHT})}}),[l,a]);return Object(r.useEffect)((function(){a&&t&&s(t)}),[a,s,t]),n.a.createElement("div",null,n.a.createElement(c.a,null))}},148:function(e,a,t){"use strict";var r=t(0),n=t.n(r),c=t(144),l=t(149);a.a=function(e){var a=e.title,t=e.children,r=e.list,s=void 0===r?[]:r,o=e.value,u=e.cardType,i=void 0===u?"table":u,m=e.centerHeader,d=void 0!==m&&m,b=e.cardName,v=void 0===b?"":b,p=e.className,f=void 0===p?"":p,g=e.searchBox,h=e.onSelectInputChange,E=e.isLoading,O=void 0!==E&&E,j=e.input;return n.a.createElement("div",{className:"paper paper-card ".concat("number"===i?"number-card":""," ").concat(v," ").concat(f)},n.a.createElement("div",{className:"content-header d-flex align-items-baseline ".concat(d?"justify-content-center":"justify-content-between")},n.a.createElement("p",{className:"title"},a),j||(s.length?n.a.createElement("div",{className:"select-wrapper"},n.a.createElement(c.a,{options:s,value:o,onChange:function(e){return h(e)},isClearable:!1,isSearchable:!1})):n.a.createElement(n.a.Fragment,null)),g?n.a.createElement(l.a,null):n.a.createElement(n.a.Fragment,null)),O?n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))):"number"===i?n.a.createElement("div",{className:"count font-weight-bold"},t):t)}},149:function(e,a,t){"use strict";var r=t(13),n=t(9),c=t(0),l=t.n(c),s=t(2),o=function(e,a){var t=Object(c.useState)(e),r=Object(n.a)(t,2),l=r[0],s=r[1];return Object(c.useEffect)((function(){var t=setTimeout((function(){s(e)}),a);return function(){clearTimeout(t)}}),[e,a]),l},u=t(143);a.a=Object(c.memo)((function(e){var a=e.setFilter,t=e.filter,i=e.className,m=void 0===i?"":i,d=e.placeholder,b=Object(c.useState)(""),v=Object(n.a)(b,2),p=v[0],f=v[1],g=o(p,500);return Object(c.useEffect)((function(){a&&a(g?Object(r.a)(Object(r.a)({},t),{},{search:g,current_page:1}):Object(r.a)(Object(r.a)({},t),{},{search:"",current_page:1}))}),[g]),l.a.createElement("div",{className:"form-group search-input-wrapper ".concat(m)},l.a.createElement(u.a,{placeholder:d,value:p||"",onChange:function(e){return f(e.target.value)},icon:s.T,className:"search-input"}))}))},1517:function(e,a,t){"use strict";t.r(a);var r=t(14),n=t.n(r),c=t(18),l=t(13),s=t(9),o=t(0),u=t.n(o),i=t(10),m=t(148),d=t(144),b=t(143),v=t(147),p=t(17),f=t(22),g=t(19),h=t(207),E={first_name:"",last_name:"",mobile:"",email:null,address:null,pincode:"",city:"",state:"",gender:"",degree:"",blood_group:null};a.default=function(e){var a=Object(o.useContext)(p.a).profile,t=Object(o.useState)(Object(l.a)({},E)),r=Object(s.a)(t,2),O=r[0],j=r[1],N=Object(o.useState)({}),y=Object(s.a)(N,2),_=y[0],w=y[1],x=Object(o.useState)(!1),C=Object(s.a)(x,2),S=C[0],k=C[1],T=Object(o.useState)({show:!1,message:"",type:""}),B=Object(s.a)(T,2),R=B[0],A=B[1],I=Object(o.useState)(!1),F=Object(s.a)(I,2),P=F[0],G=F[1],L=Object(o.useState)([]),M=Object(s.a)(L,2),D=M[0],H=M[1],q=Object(o.useState)({}),J=Object(s.a)(q,2),V=J[0],z=J[1],U=Object(o.useState)(!1),K=Object(s.a)(U,2),Q=K[0],W=K[1];Object(o.useEffect)((function(){if(e.location.state){var a=e.location.state,t=a.lab_id,r=a.lab_name;j(Object(l.a)({},e.location.state)),W(!0),z({label:r,value:t})}else W(!1)}),[e.location.state]),Object(o.useEffect)((function(){a.selectedRole.uuid&&"lab_admin"===a.selectedRole.role.name&&Object(c.a)(n.a.mark((function e(){var t,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.fetchRequest)({url:"/lab_group/".concat(a.selectedRole.uuid,"/get_labs"),method:"GET",isAuth:!0});case 2:if(!(t=e.sent)||200!==t.status){e.next=9;break}return e.next=6,t.json();case 6:r=e.sent,c=r.data,H(c.map((function(e){return{value:e.uuid,label:e.name}})));case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})))()}),[a.selectedRole]);var X=function(){var e=Object(c.a)(n.a.mark((function e(a){var t,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!1),w({}),A({show:!1,message:"",type:""}),e.next=5,Object(f.fetchRequest)({url:"/get_user_details?mobile=".concat(a),method:"GET",isAuth:!0});case 5:if(!(t=e.sent)||200!==t.status){e.next=13;break}return e.next=9,t.json();case 9:return r=e.sent,(c=r.data)&&0!==c.length?(j(Object(l.a)(Object(l.a)({},O),{},{address:"",pincode:"",city:"",state:"",gender:"",specialist_in:"",degree:"",uuid:null},c)),k(!0)):j(Object(l.a)(Object(l.a)({},O),{},{first_name:"",last_name:"",email:"",address:"",pincode:"",city:"",state:"",gender:"",specialist_in:"",degree:"",mobile:a,uuid:null})),e.abrupt("return",c);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(e,a){var t=Object(l.a)({},O);t[a]=e,j(Object(l.a)({},t)),"mobile"===a&&10===e.toString().length?X(e):k(!1)},Z=function(){var t=Object(c.a)(n.a.mark((function t(r){var c,s,o,u,i,m;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G(!0),w({}),A({show:!1,message:"",type:""}),r.preventDefault(),c=Object(g.h)({first_name:$,last_name:ee,mobile:ae,pincode:ne,city:ce,state:le,gender:oe,branch:V}),w(Object(l.a)({},c)),Object.keys(c).length){t.next=29;break}return delete(s=Object(l.a)(Object(l.a)({},O),{},{gender:O.gender&&O.gender.value})).uuid,o="/lab/".concat(V&&V.value?V.value:a.selectedRole.uuid,"/referred_by").concat(Q?"/".concat(O.uuid):""),t.next=12,Object(f.fetchRequest)({url:o,method:Q?"PUT":"POST",isAuth:!0,body:s});case 12:if((u=t.sent)&&G(!1),!u||200!==u.status){t.next=21;break}return t.next=17,u.json();case 17:(i=t.sent).success&&(i.message&&A({show:!0,message:i.message,type:"success"}),setTimeout((function(){return e.history.goBack()}),2e3)),t.next=26;break;case 21:return t.next=23,u.json();case 23:m=t.sent,w(Object(l.a)({},m.errors)),422!==u.status&&!Object.keys(m.error?m.error:{}).length&&m.message&&A({show:!0,message:m.message,type:"error"});case 26:return t.abrupt("return");case 29:G(!1);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=O.first_name,ee=O.last_name,ae=O.mobile,te=O.email,re=O.address,ne=O.pincode,ce=O.city,le=O.state,se=O.degree,oe=O.gender,ue=O.specialist_in;return u.a.createElement("div",{className:"add-package-container"},u.a.createElement(v.a,R),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-8 col-12"},u.a.createElement("form",{onSubmit:Z},u.a.createElement(m.a,{title:"Doctor's Details"},u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-6 col-12"},u.a.createElement(b.a,{placeholder:"Mobile No.*",value:ae||"",onChange:function(e){return Y(e.target.value,"mobile")},error:_&&_.mobile})),u.a.createElement("div",{className:"form-group col-md-6 col-12"},u.a.createElement(b.a,{placeholder:"Email",value:te||"",onChange:function(e){return Y(e.target.value,"email")},error:_&&_.email,disabled:S}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-6 col-12"},u.a.createElement(b.a,{placeholder:"First Name*",value:$||"",onChange:function(e){return Y(e.target.value,"first_name")},error:_&&_.first_name,disabled:S})),u.a.createElement("div",{className:"form-group col-md-6 col-12"},u.a.createElement(b.a,{placeholder:"Last Name*",value:ee||"",onChange:function(e){return Y(e.target.value,"last_name")},error:_&&_.last_name,disabled:S}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-12 col-12"},u.a.createElement(b.a,{placeholder:"Address",value:re||"",onChange:function(e){return Y(e.target.value,"address")},error:_&&_.address}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(b.a,{placeholder:"Pincode*",value:ne||"",onChange:function(e){return Y(e.target.value,"pincode")},error:_&&_.pincode})),u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(b.a,{placeholder:"City*",value:ce||"",onChange:function(e){return Y(e.target.value,"city")},error:_&&_.city})),u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(b.a,{placeholder:"State*",value:le||"",onChange:function(e){return Y(e.target.value,"state")},error:_&&_.state}))),u.a.createElement("div",{className:"row mb-4"},u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(d.a,{placeholder:"Gender*",options:h.c,value:oe,onChange:function(e){return Y(e,"gender")},error:_&&_.gender})),u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(b.a,{placeholder:"Degree",value:se||"",onChange:function(e){return Y(e.target.value,"degree")},error:_&&_.degree})),u.a.createElement("div",{className:"form-group col-md-4 col-12"},u.a.createElement(b.a,{placeholder:"Specialization",value:ue||"",onChange:function(e){return Y(e.target.value,"specialist_in")},error:_&&_.specialist_in}))),"lab_admin"===a.selectedRole.role.name&&u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"form-group col-md-6"},u.a.createElement(d.a,{placeholder:"Select Branch*",options:D,value:V,onChange:function(e){return z(e)},disabled:Q,error:_&&_.branch}))),u.a.createElement("div",{className:"row mt-5 mb-4"},u.a.createElement("div",{className:"col-12"},u.a.createElement("div",{className:"w-100 d-flex justify-content-center"},u.a.createElement(i.OutlinedButton,{className:"mr-2",onClick:function(){return Q?e.history.goBack():j(E)},red:!0,disabled:P},"Cancel"),u.a.createElement(i.OutlinedButton,{className:"",blue:!0,type:"submit",loading:P,disabled:P},"Save")))))))))}},207:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return n})),t.d(a,"a",(function(){return c}));var r=[{label:"Both",value:"both"},{label:"Male",value:"male"},{label:"Female",value:"female"}],n=[{label:"Male",value:"male"},{label:"Female",value:"female"}],c=[{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"}]}}]);
//# sourceMappingURL=37.5ded46f4.chunk.js.map
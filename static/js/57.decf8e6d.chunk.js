(this["webpackJsonpsugarlogger-frontend"]=this["webpackJsonpsugarlogger-frontend"]||[]).push([[57],{143:function(e,a,t){"use strict";var n=t(9),c=t(0),r=t.n(c),s=t(2);a.a=function(e){var a=e.type,t=e.placeholder,l=e.value,o=e.name,i=e.onChange,u=e.onBlur,d=e.error,m=e.disabled,p=void 0!==m&&m,b=e.icon,v=e.className,f=void 0===v?"":v,h=e.hasGrayBack,g=void 0!==h&&h,E=e.showPass,k=e.maxLength,O=e.ref,y=Object(c.useState)(!1),N=Object(n.a)(y,2),j=N[0],x=N[1],_=d?"has-error":"";f+=" form-control ";var w=Object(c.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group text-input ".concat(_," ").concat(g?"background-gray":"")},r.a.createElement("input",{type:(E?j?"text":"password":a)||"text",className:f,name:o,value:l,onChange:i,autoComplete:"off",ref:O||w,disabled:p,onBlur:u,maxLength:k}),r.a.createElement("label",{className:"input-placeholder"},t),b?r.a.createElement("span",{className:"input-icon"},b):r.a.createElement(r.a.Fragment,null),E?r.a.createElement("span",{className:"input-icon cursor-pointer",onClick:function(){return x(!j)}},j?s.ab:s.bb):r.a.createElement(r.a.Fragment,null),d?r.a.createElement("p",{className:"assistive-text error-text"},d):r.a.createElement("p",{className:"assistive-text"})))}},144:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(156);a.a=function(e){var a=e.className,t=void 0===a?"":a,s=e.options,l=void 0===s?[]:s,o=e.value,i=e.onChange,u=e.placeholder,d=e.error,m=e.hasGrayBack,p=void 0!==m&&m,b=e.isMulti,v=void 0!==b&&b,f=(e.hideSelectedOptions,e.isClearable),h=void 0===f||f,g=e.disabled,E=e.isLoading,k=e.hidePlaceholder,O=e.defaultValue,y=e.isSearchable,N=void 0!==y&&y,j="input-group select-control-input ".concat(d?"has-error":""," ").concat(p?"background-gray":""," ").concat(o&&o.value?"has-value":""," ").concat(k?"hide-placeholder":""," ").concat(g?"cursor-notAllowed":"");t+=" select-input ";var x=Object(n.useRef)(null);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:j,ref:x},c.a.createElement(r.a,{value:o,onChange:i,options:l,className:t,classNamePrefix:"select-input",placeholder:c.a.createElement("div",null,""),onFocus:function(){return x.current.classList.add("select-focused")},onBlur:function(){return x.current.classList.remove("select-focused")},isClearable:h,isMulti:v,removeSelected:!1,defaultValue:O,isDisabled:g,isLoading:E,isSearchable:N}),c.a.createElement("label",{className:"select-placeholder"},u)),d?c.a.createElement("p",{className:"assistive-text error-text"},d):c.a.createElement("p",{className:"assistive-text"}))}},147:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(158);t(157);a.a=function(e){var a=e.message,t=e.type,s=e.callback,l=Object(n.useCallback)((function(e){switch(e){case"success":r.b.success(a,{position:r.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){s&&s()}),1500);break;case"error":r.b.error(a,{position:r.b.POSITION.BOTTOM_RIGHT});break;case"info":r.b.info(a,{position:r.b.POSITION.BOTTOM_RIGHT});break;case"warn":r.b.warn(a,{position:r.b.POSITION.BOTTOM_RIGHT})}}),[s,a]);return Object(n.useEffect)((function(){a&&t&&l(t)}),[a,l,t]),c.a.createElement("div",null,c.a.createElement(r.a,null))}},148:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(144),s=t(149);a.a=function(e){var a=e.title,t=e.children,n=e.list,l=void 0===n?[]:n,o=e.value,i=e.cardType,u=void 0===i?"table":i,d=e.centerHeader,m=void 0!==d&&d,p=e.cardName,b=void 0===p?"":p,v=e.className,f=void 0===v?"":v,h=e.searchBox,g=e.onSelectInputChange,E=e.isLoading,k=void 0!==E&&E,O=e.input;return c.a.createElement("div",{className:"paper paper-card ".concat("number"===u?"number-card":""," ").concat(b," ").concat(f)},c.a.createElement("div",{className:"content-header d-flex align-items-baseline ".concat(m?"justify-content-center":"justify-content-between")},c.a.createElement("p",{className:"title"},a),O||(l.length?c.a.createElement("div",{className:"select-wrapper"},c.a.createElement(r.a,{options:l,value:o,onChange:function(e){return g(e)},isClearable:!1,isSearchable:!1})):c.a.createElement(c.a.Fragment,null)),h?c.a.createElement(s.a,null):c.a.createElement(c.a.Fragment,null)),k?c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))):"number"===u?c.a.createElement("div",{className:"count font-weight-bold"},t):t)}},149:function(e,a,t){"use strict";var n=t(13),c=t(9),r=t(0),s=t.n(r),l=t(2),o=function(e,a){var t=Object(r.useState)(e),n=Object(c.a)(t,2),s=n[0],l=n[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){l(e)}),a);return function(){clearTimeout(t)}}),[e,a]),s},i=t(143);a.a=Object(r.memo)((function(e){var a=e.setFilter,t=e.filter,u=e.className,d=void 0===u?"":u,m=e.placeholder,p=Object(r.useState)(""),b=Object(c.a)(p,2),v=b[0],f=b[1],h=o(v,500);return Object(r.useEffect)((function(){a&&a(h?Object(n.a)(Object(n.a)({},t),{},{search:h,current_page:1}):Object(n.a)(Object(n.a)({},t),{},{search:"",current_page:1}))}),[h]),s.a.createElement("div",{className:"form-group search-input-wrapper ".concat(d)},s.a.createElement(i.a,{placeholder:m,value:v||"",onChange:function(e){return f(e.target.value)},icon:l.T,className:"search-input"}))}))},1497:function(e,a,t){"use strict";t.r(a);var n=t(13),c=t(14),r=t.n(c),s=t(18),l=t(9),o=t(0),i=t.n(o),u=t(148),d=t(10),m=t(22),p=t(17),b=t(147),v=t(19);a.default=function(e){var a=Object(o.useContext)(p.a),t=a.profile,c=a.setProfileData,f=Object(o.useState)(),h=Object(l.a)(f,2),g=h[0],E=h[1],k=Object(o.useState)(""),O=Object(l.a)(k,2),y=O[0],N=O[1],j=y.cart_id,x=y.package_name,_=y.package_credits,w=y.package_amount,T=Object(o.useState)({show:!1,message:"",type:""}),S=Object(l.a)(T,2),R=S[0],C=S[1],I=localStorage.getItem("loginAs"),B=localStorage.getItem("selectedRole")?JSON.parse(localStorage.getItem("selectedRole")):null,P=(e.location.state||{}).disableCancel,F=void 0!==P&&P;Object(o.useEffect)((function(){(null===t||void 0===t?void 0:t.selectedRole)&&E(t.selectedRole.uuid)}),[t]),Object(o.useEffect)((function(){var a,n,c,l,o,i=document.createElement("script");i.src="https://checkout.razorpay.com/v1/checkout.js",i.async=!0,document.body.appendChild(i);var u=null;(null===(a=e.history.location)||void 0===a||null===(n=a.state)||void 0===n?void 0:n.lab_id)?u="/lab_group/".concat(e.history.location.state.lab_id,"/cart"):"lab-admin"===I&&(null===t||void 0===t||null===(c=t.selectedRole)||void 0===c?void 0:c.uuid)?u="/lab_group/".concat(t.selectedRole.uuid,"/cart"):"super-admin"!==I&&"assistant-admin"!==I||!(null===(l=e.history.location)||void 0===l||null===(o=l.state)||void 0===o?void 0:o.lab_id)||(u="/lab_group/".concat(e.history.location.state.lab_id,"/cart")),u&&Object(s.a)(r.a.mark((function a(){var t,n,c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(m.fetchRequest)({url:u,method:"GET",isAuth:!0});case 2:if(!(t=a.sent)||200!==t.status){a.next=10;break}return a.next=6,t.json();case 6:n=a.sent,c=n.data,(c=Array.isArray(c)&&0===c.length?null:c)?(s={cart_id:c.uuid,package_name:c.package.formatted_type,package_credits:c.package.credits,package_amount:c.package.amount},N(s)):e.history.push("/packages");case 10:return a.abrupt("return");case 11:case"end":return a.stop()}}),a)})))()}),[e.history]);var G=function(){var a=Object(s.a)(r.a.mark((function a(){var l,o,i,u,d,p;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(C({show:!1,message:"",type:""}),i=null,"lab-admin"===I&&g?i="/lab_group/".concat(g,"/checkout/").concat(j):"super-admin"!==I&&"assistant-admin"!==I||!(null===(l=e.history.location)||void 0===l||null===(o=l.state)||void 0===o?void 0:o.lab_id)||(i="/lab_group/".concat(e.history.location.state.lab_id,"/checkout/").concat(j)),!i){a.next=14;break}return a.next=6,Object(m.fetchRequest)({url:i,method:"GET",isAuth:!0});case 6:if(!(u=a.sent)||200!==u.status){a.next=14;break}return a.next=10,u.json();case 10:d=a.sent,p={key:d.key,amount:d.amount,name:d.name,description:d.description,order_id:d.order_id,handler:function(){var a=Object(s.a)(r.a.mark((function a(s){var l,o,i,u,d,p,b;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(m.fetchRequest)({url:"/razorPay/callback_handler",method:"POST",body:Object(n.a)({},s),isAuth:!0});case 2:return l=a.sent,a.next=5,l.json();case 5:if(o=a.sent,!l||200!==l.status){a.next=18;break}return o.message&&C({show:!0,message:o.message,type:"success"}),a.next=10,Object(v.f)(t.selectedRole.uuid);case 10:d=a.sent,c({selectedRole:d}),localStorage.setItem("selectedRole",JSON.stringify(d)),p=null,(null===t||void 0===t?void 0:t.selectedRole)&&t.selectedRole.uuid&&"lab_admin"===t.selectedRole.role.name?p="/lab-admin/setting/lab-details/package-details":"super-admin"!==I&&"assistant-admin"!==I||!(null===(i=e.history.location)||void 0===i||null===(u=i.state)||void 0===u?void 0:u.lab_id)||(p="/".concat(I,"/lab-details/package-details"),localStorage.setItem("selectedLabId",e.history.location.state.lab_id)),p&&setTimeout((function(){return e.history.push(p)}),1500),a.next=22;break;case 18:return a.next=20,l.json();case 20:(b=a.sent).message&&C({show:!0,message:b.message,type:"error"});case 22:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),theme:{color:"#F37254"}},new window.Razorpay(p).open();case 14:return a.abrupt("return");case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return i.a.createElement("div",{className:"checkout-container"},i.a.createElement(b.a,R),i.a.createElement("div",{className:"checkout-wrapper"},i.a.createElement("p",{className:"black-heading checkout-big-text mb-4"},"Checkout"),i.a.createElement(u.a,null,i.a.createElement("div",{className:"d-flex justify-content-between selected-package"},i.a.createElement("div",{className:"flex-column text-left"},i.a.createElement("p",{className:"package-name mb-1"},x),i.a.createElement("p",{className:"package-validity"},_," patients")),i.a.createElement("p",{className:"black-heading checkout-big-text"},"\u20b9 ",w)),i.a.createElement("div",{className:"d-flex justify-content-between final-price"},i.a.createElement("p",{className:"black-heading checkout-big-text"},"Total"),i.a.createElement("p",{className:"black-heading checkout-big-text"},"\u20b9 ",w))),i.a.createElement("div",{className:"d-flex justify-content-end"},i.a.createElement(d.OutlinedButton,{black:!0,className:"mr-2",onClick:function(){return e.history.push("/packages")},disabled:F||"incomplete_payment"===(null===B||void 0===B?void 0:B.reg_status)},"Cancel"),i.a.createElement(d.ContainedButton,{black:!0,color:"primary",onClick:G,withIcon:!0},i.a.createElement("div",{className:"d-flex"},i.a.createElement("p",null,"Proceed to Payment Gateway"),i.a.createElement("span",{className:"arrow-forward-icon ml-2"}))))))}}}]);
//# sourceMappingURL=57.decf8e6d.chunk.js.map